(this["webpackJsonpcoin-decide"]=this["webpackJsonpcoin-decide"]||[]).push([[0],{389:function(e,t,a){},596:function(e,t,a){},599:function(e,t,a){},600:function(e,t,a){},601:function(e,t,a){},602:function(e,t,a){},603:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},617:function(e,t,a){},618:function(e,t,a){},620:function(e,t,a){},621:function(e,t,a){},622:function(e,t,a){},629:function(e,t,a){},630:function(e,t,a){},793:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(51),c=a.n(i),r=(a(389),a(4)),s=a(5),o=a(7),d=a(6),l=a(24),b=a(796),h=a(375),j=a(13),u=a(34),p=Object(u.a)(),m=a(10),O="CHANGE_CITY_SUCCESS",v=function(e,t){return function(a,n,i){var c=(0,i.getFirestore)(),r=n();r.firebase.auth.uid&&c.update({collection:"users",doc:r.firebase.auth.uid},{default_city:{name:e,name_id:t}}),a({type:O,payload:{nameCity:e,valueCity:t}})}},f={nameCity:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a",valueCity:"ulyanovsk"},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(m.a)(Object(m.a)({},e),{},{nameCity:t.payload.nameCity,valueCity:t.payload.valueCity});default:return e}},g=a(376),_=a.n(g),y=a(209),C=(a(429),a(378)),N=a.p+"static/media/coin-v.7ec2626c.mp4",w=a.p+"static/media/setting.d5e3fe9f.svg",k=a.p+"static/media/list.07fc9864.svg",I=a.p+"static/media/swipe.3f454114.svg",S=a.p+"static/media/arrow-side.5e9f9ba0.svg",A=a(33),B="GET_PROMOCODES_FOR_USER_SUCCESS",E="SAVE_WINNING_PROMOCODE_IN_STORE",U="CLEAR_WON_PROMOCODE",R=function(e,t){return function(a,n,i){var c=i.getFirestore;i.getFirebase;c().add({collection:"promocodes",doc:e,subcollections:[{collection:"content"}]},t).then((function(){D()}))}},D=function(){return function(e){e({type:U})}},T={promocodesForUser:[],promocodeWon:{}};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(m.a)(Object(m.a)({},e),{},{promocodesForUser:t.payload});case E:return Object(m.a)(Object(m.a)({},e),{},{promocodeWon:t.payload});case U:return Object(m.a)(Object(m.a)({},e),{},{promocodeWon:{}});default:return e}}var M=a(36),z=a.p+"static/media/check-circle.a408b852.svg",P=(a(596),a(0)),W=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={imageUrl:""},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(M.getFirebase)().storage().ref().child(this.props.photo).getDownloadURL().then((function(t){e.setState({imageUrl:t})}),(function(e){console.error("Promocode Item Error Download Image")}))}},{key:"render",value:function(){var e=this.props,t=e.name_bar,a=e.prize,n=e.is_check,i=e.duration_action,c=e.id,r=e.bar_id,s=e.code,o=e.qr_code,d=this.state.imageUrl;return Object(P.jsxs)(A.a,{to:{pathname:"/promocode/".concat(c),state:{barId:r,code:s,qrCode:o,prize:a,imageUrl:d}},className:"b-promocode-item",style:{backgroundImage:"url(".concat(d,")")},children:[n&&Object(P.jsx)("div",{className:"b-promocode-item__check-wrapper",children:Object(P.jsx)("img",{src:z,alt:""})}),Object(P.jsxs)("div",{className:"b-promocode-item__head",children:[Object(P.jsx)("div",{className:"b-promocode-item__name-place",children:t}),Object(P.jsx)("div",{className:"b-promocode-item__name-prize",children:a.description})]}),Object(P.jsx)("div",{className:"b-promocode-item__footer",children:Object(P.jsxs)("div",{className:"b-promocode-item__date",children:["\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0434\u043e ",i]})})]})}}]),a}(n.Component),H=(a(599),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.uid&&this.props.getPromocodesForUser(this.props.auth.uid)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.promocodes;return Object(P.jsx)("ul",{className:"b-promocode-list",children:t.uid?a&&a.length>0?a.map((function(e,t){return Object(P.jsx)("li",{className:"b-promocode-list__item",children:Object(P.jsx)(W,{name_bar:e.name_bar,prize:e.prize,is_check:e.is_check,duration_action:e.prize.expires,id:e.id,bar_id:e.bar_id,code:e.code,qr_code:e.qr_code,photo:e.photo})},t)})):Object(P.jsx)("li",{className:"b-promocode-list__empty",children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u043e\u0432. \u0411\u0440\u043e\u0441\u044c\u0442\u0435 \u043c\u043e\u043d\u0435\u0442\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443 \u0432 \u0431\u0430\u0440\u0435."}):Object(P.jsxs)("li",{className:"b-promocode-list__registration",children:[Object(P.jsx)(A.a,{to:"/signin",children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"}),Object(P.jsx)("div",{className:"b-promocode-list__help",children:"\u0447\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u043e\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u044b"})]})})}}]),a}(n.Component)),L=Object(l.b)((function(e){var t=e.firebase;return{promocodes:e.promocodes.promocodesForUser,auth:t.auth}}),(function(e){return{getPromocodesForUser:function(t){return e(function(e){return function(t,a,n){var i=n.getFirestore;n.getFirebase,i().get({collection:"promocodes",doc:e,subcollections:[{collection:"content"}]}).then((function(){var e=a().firestore.ordered.promocodes[0].content;t({type:B,payload:e})}),(function(e){console.error(e)}))}}(t))}}}))(H),G=a(37),q=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){var a=t.target.value,n=t.nativeEvent.target.selectedIndex;e.props.changeCity(t.nativeEvent.target[n].text,a)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.head,a=e.content,n=e.select,i=e.valueCity;return Object(P.jsxs)("div",{className:"b-setting-list__item",children:[!!t&&Object(P.jsxs)("div",{className:"b-setting-list__head",children:[!!t.title&&Object(P.jsx)("div",{className:"b-setting-list__title",children:t.title}),!!t.additional&&Object(P.jsx)("div",{className:"b-setting-list__additional-title",children:t.additional})]}),!!a&&!!a.length&&a.map((function(e,t){return e.name||e.link||e.linkTo?Object(P.jsxs)("div",{className:"b-setting-list__content",onClick:e.onClick?e.onClick:function(){},children:[!!e.name&&Object(P.jsx)("div",{className:"b-setting-list__name",children:e.name}),!!e.link&&Object(P.jsx)("a",{href:e.href,className:"b-setting-list__name b-setting-list__name--link",children:e.link}),!!e.linkTo&&Object(P.jsx)(A.a,{className:"b-setting-list__name",to:e.href,children:e.linkTo}),!!e.description&&Object(P.jsx)("div",{className:"b-setting-list__description",children:e.description})]},"settingContent-".concat(t)):null})),!!n&&Object(P.jsxs)("div",{className:"b-setting-list__content",children:[Object(P.jsxs)("select",{name:"valueCity",value:i,className:"b-setting-list__name b-setting-list__name--select",onChange:this.handleChange,children:[Object(P.jsx)("option",{value:"ulyanovsk",children:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"}),Object(P.jsx)("option",{value:"moscow",children:"\u041c\u043e\u0441\u043a\u0432\u0430"}),Object(P.jsx)("option",{value:"saint_petersburg",children:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"})]}),!!n.description&&Object(P.jsx)("div",{className:"b-setting-list__description",children:n.description})]})]})}}]),a}(n.Component),Z=function(e){return 0===Object.keys(e).length},Q="LOGIN_SUCCESS",X="LOGIN_ERROR",Y="LOGOUT_SUCCESS",V="SIGNUP_SUCCESS",J="SIGNUP_ERROR",K={authError:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(m.a)(Object(m.a)({},e),{},{authError:t.payload});case Q:case Y:case V:return Object(m.a)(Object(m.a)({},e),{},{authError:null});case J:return Object(m.a)(Object(m.a)({},e),{},{authError:t.payload.message});default:return e}},ee=(a(600),"v0.3.2 [10.02.2020]"),te=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.signOut,n=e.userData,i=e.changeCity,c=e.valueCity;return Object(P.jsxs)("div",{className:"b-setting-list",children:[!!t.uid&&Object(P.jsx)(q,{head:{title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"},content:[{name:"".concat(n.length?n[0].firstName:""," ").concat(n.length?n[0].lastName:""),description:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f"}]}),Object(P.jsx)(q,{head:{title:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435"},select:{description:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"},changeCity:i,valueCity:c}),Object(P.jsx)(q,{head:{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},content:[{description:ee,linkTo:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438",href:"/about"},{name:"\u0421\u043f\u0438\u0441\u043e\u043a \u0431\u0430\u0440\u043e\u0432",description:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0431\u0430\u0440\u044b \u0443\u0447\u0430\u0432\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0432 \u0438\u0433\u0440\u0435"},{link:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430\u043c",href:"mailto:iamed73@yandex.ru",description:"iAmed73@yandex.ru"}]}),t.uid?Object(P.jsxs)("button",{className:"b-setting-list__logout",onClick:a,children:[Object(P.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H9C9.55228 20 10 20.4477 10 21C10 21.5523 9.55228 22 9 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7957 2 19V5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2H9C9.55228 2 10 2.44772 10 3C10 3.55228 9.55228 4 9 4H5Z",fill:"#96A491"}),Object(P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2929 6.29289C15.6834 5.90237 16.3166 5.90237 16.7071 6.29289L21.7071 11.2929C22.0976 11.6834 22.0976 12.3166 21.7071 12.7071L16.7071 17.7071C16.3166 18.0976 15.6834 18.0976 15.2929 17.7071C14.9024 17.3166 14.9024 16.6834 15.2929 16.2929L19.5858 12L15.2929 7.70711C14.9024 7.31658 14.9024 6.68342 15.2929 6.29289Z",fill:"#96A491"}),Object(P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"#96A491"})]}),Object(P.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]}):Object(P.jsx)("div",{className:"b-setting-list__registration",children:Object(P.jsx)(A.a,{to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}}]),a}(n.Component),ae=Object(G.d)(Object(l.b)((function(e){var t=e.firebase,a=e.firestore,n=e.users;return{auth:t.auth,userData:!!a.ordered.users&&!!a.ordered.users.length&&a.ordered.users.filter((function(e){return t.auth.uid===e.id})),valueCity:n.valueCity}}),(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:Y})})).catch((function(t){e({type:"LOGOUT_ERROR"}),alert("\u041e\u0448\u0438\u0431\u043a\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}))},changeCity:function(t,a){return e(v(t,a))}}})),Object(M.firestoreConnect)((function(e){return[{collection:"users",doc:e.auth.uid}]})))(te),ne=(a(601),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={flipEnded:!1,isCoinToss:!1},e.nextSlide=function(){e.slider.slickNext()},e.previousSlide=function(){e.slider.slickPrev()},e.onSwipedUp=function(){e.setState({isCoinToss:!0}),e.player.play()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.player.subscribeToStateChange(this.handleStateChange.bind(this)),this.player.play(),this.player.pause()}},{key:"handleStateChange",value:function(e,t){e.ended&&this.props.stopFlipping()}},{key:"render",value:function(){var e=this,t=this.state.isCoinToss;return Object(P.jsx)("div",{className:"b-screen-coin ".concat(t?"is-coin-toss":""),children:Object(P.jsxs)(_.a,Object(m.a)(Object(m.a)({ref:function(t){return e.slider=t}},{dots:!0,infinity:!1,adaptiveHeight:!0,initialSlide:1,arrows:!1,fade:!0,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(P.jsxs)("div",{className:"b-screen-coin__slide",children:[Object(P.jsx)("h2",{className:"b-screen-coin__title",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(P.jsx)("div",{className:"b-coin-head",children:Object(P.jsx)("div",{className:"b-coin-head__item b-coin-head__item--right",onClick:this.nextSlide,children:Object(P.jsx)("div",{className:"b-coin-head__icon b-coin-head__icon--right",children:Object(P.jsx)("img",{src:S,alt:""})})})}),Object(P.jsx)(ae,{})]}),Object(P.jsxs)("div",{className:"b-screen-coin__slide",children:[Object(P.jsxs)("div",{className:"b-coin-head ".concat(t?"is-hide":""),children:[Object(P.jsxs)("button",{className:"b-coin-head__item",type:"button",onClick:this.previousSlide,children:[Object(P.jsx)("div",{className:"b-coin-head__icon",children:Object(P.jsx)("img",{src:w,alt:""})}),Object(P.jsx)("span",{className:"b-coin-head__btn-title",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),Object(P.jsxs)("button",{className:"b-coin-head__item",type:"button",onClick:this.nextSlide,children:[Object(P.jsx)("div",{className:"b-coin-head__icon",children:Object(P.jsx)("img",{src:k,alt:""})}),Object(P.jsx)("span",{className:"b-coin-head__btn-title",children:"\u041c\u043e\u0438 \u043a\u043e\u0434\u044b"})]})]}),Object(P.jsxs)(C.a,{className:"b-screen-coin__swipeable",onSwipedUp:this.onSwipedUp,preventDefaultTouchmoveEvent:!0,children:[Object(P.jsxs)("div",{className:"b-screen-coin__control-image ".concat(t?"is-hide":""),children:[Object(P.jsx)("img",{src:I,alt:""}),Object(P.jsx)("div",{className:"b-screen-coin___control-image-line"})]}),Object(P.jsx)(y.Player,{ref:function(t){e.player=t},fluid:!1,width:"100%",height:"100%",playsInline:!0,type:"video/mp4",preload:"auto",src:N,children:Object(P.jsx)(y.ControlBar,{disableCompletely:!0})})]})]}),Object(P.jsxs)("div",{className:"b-screen-coin__slide",children:[Object(P.jsx)("h2",{className:"b-screen-coin__title",children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u044b"}),Object(P.jsx)("div",{className:"b-coin-head",children:Object(P.jsx)("div",{className:"b-coin-head__item",onClick:this.previousSlide,children:Object(P.jsx)("div",{className:"b-coin-head__icon",children:Object(P.jsx)("img",{src:S,alt:""})})})}),Object(P.jsx)(L,{})]})]}))})}}]),a}(n.Component)),ie=(a(602),a.p+"static/media/beer.801aab2d.svg"),ce=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.description;return Object(P.jsxs)("div",{className:"b-sale",children:[Object(P.jsxs)("div",{className:"b-sale__info",children:[Object(P.jsx)("div",{className:"b-sale__name",children:e}),Object(P.jsx)("div",{className:"b-sale__type",children:"\u041f\u0440\u0438\u0437"})]}),Object(P.jsx)("div",{className:"b-sale__icon",children:Object(P.jsx)("img",{src:ie,alt:"\u0411\u043e\u043a\u0430\u043b \u043f\u0438\u0432\u0430"})})]})}}]),a}(n.Component),re=(a(603),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.endWorkTime,a=e.address,n=e.name,i=e.descriptionSale,c=e.urlImage;return Object(P.jsx)("div",{className:"b-card",children:Object(P.jsxs)("div",{className:"b-card__wrapper",children:[Object(P.jsx)("div",{className:"b-card__image-wrapper",children:Object(P.jsx)("img",{className:"b-card__image",src:c,alt:""})}),Object(P.jsxs)("div",{className:"b-card__info-bar",children:[Object(P.jsxs)("div",{className:"b-card__address",children:["\u041e\u0442\u043a\u0440\u044b\u0442\u043e \u0434\u043e ",t]}),Object(P.jsx)("div",{className:"b-card__address",children:a}),Object(P.jsx)("h1",{className:"b-card__name",children:n})]}),!!i&&Object(P.jsx)(ce,{description:i})]})})}}]),a}(n.Component)),se=a(208),oe=a.n(se),de=a(379),le=a.n(de),be=(a(607),a(608),a(609),a(610),a(611),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={activeIndex:0},e.handleActiveIndexUpdate=function(t){e.setState({activeIndex:t}),e.props.getTabIndex&&e.props.getTabIndex(t)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.tabs;return Object(P.jsx)("div",{className:"b-tab-bar",children:Object(P.jsx)(le.a,{activeIndex:this.state.activeIndex,handleActiveIndexUpdate:this.handleActiveIndexUpdate,children:e.map((function(e){return Object(P.jsx)(oe.a,{children:Object(P.jsx)("span",{className:"mdc-tab__text-label",children:e})},e)}))})})}}]),a}(n.Component)),he=(a(612),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isAuth,a=e.code,n=e.qrCode;return Object(P.jsxs)("div",{className:"b-code",children:[Object(P.jsxs)("div",{className:"b-code__value",children:["Code: ",a]}),!!n&&Object(P.jsx)("div",{className:"b-code__qr-wrapper",children:Object(P.jsx)("img",{src:"data:image/png;base64,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",alt:"qr \u043a\u043e\u0434"})}),Object(P.jsxs)("div",{className:"b-code__footer",children:[Object(P.jsx)("div",{className:"b-code__note",children:Object(P.jsx)("span",{children:"\u041f\u043e\u043a\u0430\u0436\u0438 QR-code \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u0438\u043a\u0442\u0443\u0439 \u043a\u043e\u0434 \u0431\u0430\u0440\u043c\u0435\u043d\u0443 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438 \u0441\u043a\u0438\u0434\u043a\u0443"})}),!t&&Object(P.jsxs)(A.a,{to:"/signup",className:"b-code__auth",children:[Object(P.jsx)("span",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0441\u044f,"})," \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c!"]})]})]})}}]),a}(n.Component));he.defaultProps={isAuth:!1};var je=he,ue=a(137),pe=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.geo;return Object(P.jsx)("div",{style:{height:"calc(100% - 49px)"},children:Object(P.jsx)(ue.c,{children:Object(P.jsx)(ue.a,{defaultState:{center:[e.latitude,e.longitude],zoom:17},width:"100%",height:"100%",children:Object(P.jsx)(ue.b,{geometry:[e.latitude,e.longitude]})})})})}}]),a}(n.Component),me=a.p+"static/media/taxi.9161a9f0.svg",Oe=(a(613),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(P.jsxs)("a",{href:"/",title:"\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438",className:"b-taxi-button",children:[Object(P.jsx)("img",{className:"b-taxi-button__icon-taxi",src:me,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0442\u0430\u043a\u0441\u0438"}),Object(P.jsx)("span",{className:"b-taxi-button__text",children:"\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438"})]})}}]),a}(n.Component)),ve=(a(614),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(P.jsx)("div",{className:"b-badge",children:this.props.children})}}]),a}(n.Component)),fe=a(135),xe=(a(615),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.number,t=Object(fe.a)(new Array(5)),a=t.length-e;return Object(P.jsx)("div",{className:"b-rating",children:t.map((function(e,t){return t<a?Object(P.jsx)("span",{children:"\u2606"}):Object(P.jsx)("span",{className:"checked",children:"\u2606"})}))})}}]),a}(n.Component)),ge=(a(616),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.src;return Object(P.jsxs)("div",{className:"b-avatar",children:[!!t&&t,!!a&&Object(P.jsx)("img",{src:a,alt:""})]})}}]),a}(n.Component)),_e=(a(617),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.reviews,a=e.barId,n=t.find((function(e){return e.id===a})),i=new Date,c=function(e){i.setTime(1e3*e);var t=i.getMonth()<9?"0".concat(i.getMonth()+1):i.getMonth()+1;return"".concat(i.getDate(),".").concat(t,".").concat(i.getFullYear())};return n?Object(P.jsxs)("div",{className:"b-review",children:[Object(P.jsxs)("div",{className:"b-review__head",children:[Object(P.jsx)(ve,{children:n.final_grade}),Object(P.jsxs)("div",{className:"b-review__category",children:[Object(P.jsx)("span",{children:"\u0411\u0430\u0440"}),Object(P.jsx)("span",{children:"\u041f\u0430\u0431"})]})]}),Object(P.jsx)("ul",{className:"b-review__list",children:n.reviews.map((function(e,t){return Object(P.jsx)("li",{className:"b-review__item",children:Object(P.jsxs)("div",{className:"b-review__review",children:[Object(P.jsx)("div",{className:"b-review__review-person",children:Object(P.jsxs)("div",{className:"b-review__avatar",children:[Object(P.jsx)(ge,{src:"https://mhealth.ru/media/images/2019/3/13/033a4223a2a34775b354411666ff04ef.width-630.jpg"}),Object(P.jsx)("div",{className:"b-review__name",children:"".concat(e.author.firstName," ").concat(e.author.lastName)})]})}),Object(P.jsxs)("div",{className:"b-review__rating",children:[Object(P.jsx)(xe,{number:Math.trunc(e.rate)}),Object(P.jsx)("div",{className:"b-review__rating-date",children:c(e.date.seconds)})]}),Object(P.jsx)("div",{className:"b-review__text",children:e.review})]})},t)}))})]}):"\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u043b \u043e\u0442\u0437\u044b\u0432."}}]),a}(n.Component)),ye=(a(618),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={tabIndex:0},e.handleActiveIndexUpdate=function(t){e.setState({tabIndex:t})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.isAuth,a=e.endWorkTime,i=e.address,c=e.geo,r=e.name,s=e.prize,o=e.code,d=e.qrCode,l=e.reviews,b=e.urlImage,h=e.backToStartScreen,j=e.barId,u=this.state.tabIndex,p=function(){return Object(P.jsxs)(n.Fragment,{children:[Object(P.jsx)(re,{name:r,address:i,endWorkTime:a,descriptionSale:s.description,urlImage:b}),Object(P.jsx)("div",{className:"b-screen-bar__tab-content",children:Z(s)?Object(P.jsx)("div",{style:{marginTop:"30px"},children:"\u0422\u0435\u0431\u044f \u0443\u0436\u0435 \u0436\u0434\u0443\u0442 \u0437\u0434\u0435\u0441\u044c, \u043f\u0440\u0438\u0445\u043e\u0434\u0438!"}):Object(P.jsx)(je,{isAuth:t,code:o,qrCode:d})})]})},m=function(){switch(u){case 0:return p();case 1:return Object(P.jsxs)("div",{className:"b-screen-bar__tab-content b-screen-bar__tab-content--full",children:[Object(P.jsx)("h2",{className:"b-screen-bar__tab-title",children:r}),Object(P.jsx)(_e,{reviews:l,barId:j})]});case 2:return Object(P.jsxs)("div",{className:"b-screen-bar__tab-content b-screen-bar__tab-content--full",children:[Object(P.jsx)("h2",{className:"b-screen-bar__tab-title",children:r}),Object(P.jsx)(pe,{geo:c}),Object(P.jsx)("div",{className:"b-screen-bar__taxi",children:Object(P.jsx)(Oe,{})})]});default:return p()}};return Object(P.jsxs)("div",{className:"b-screen-bar",children:[Object(P.jsxs)("div",{className:"b-screen-bar__nav",children:[Object(P.jsx)("div",{className:"b-coin-head__item",onClick:h,children:Object(P.jsx)("div",{className:"b-coin-head__icon",children:Object(P.jsx)("img",{src:S,alt:""})})}),Object(P.jsx)("div",{className:"b-screen-bar__nav-tab-bar",children:Object(P.jsx)(be,{getTabIndex:this.handleActiveIndexUpdate,tabs:["\u041a\u043e\u0434","\u041e\u0442\u0437\u044b\u0432\u044b","\u041a\u0430\u0440\u0442\u0430"]})}),Object(P.jsx)("div",{className:"b-coin-head__item",children:Object(P.jsx)("div",{className:"b-coin-head__icon",children:Object(P.jsx)("img",{src:"",alt:""})})})]}),Object(P.jsx)(m,{})]})}}]),a}(n.Component)),Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t+Math.random()*(e+1-t);return Math.floor(a)},Ne=function e(t){if(!t)return t;var a=Object.keys(t);if(t[a[a.length*Math.random()<<0]])return a[a.length*Math.random()<<0];e(t)},we=a.p+"static/media/plug-for-bar.8f664567.jpg",ke="GET_URL_BAR_IMAGE_SUCCESS",Ie="GET_URL_BAR_IMAGE_ERROR",Se="SAVE_BAR_ID_QUERY",Ae="SAVE_TYPE_PRIZE",Be=function(e,t){return console.log(e),function(a,n,i){(0,i.getFirestore)().get({collection:"bars_id",doc:e}).then((function(){var i=n().firestore.ordered.bars_id.filter((function(t){return t.id===e}))[0].content,c=Ce(i.length-1),r=t||i[c].bar_id;a(function(e){return function(t,a,n){var i=n.getFirestore,c=n.getFirebase,r=i();t({type:Se,payload:{targetBarId:e}}),r.get({collection:"bars",doc:e}).then((function(){var n=function(e){c().storage().ref().child(e).getDownloadURL().then((function(e){t({type:ke,payload:e})}),(function(e){t({type:Ie,payload:we})}))},i=a().firestore.ordered.bars.filter((function(t){return t.id===e}));if(i.length&&i[0].available_prizes){var s=i[0].available_prizes,o=Ne(s),d=o.split("_");t({type:Ae,payload:{typePrize:d}}),"common"===d[0]?r.get({collection:"common_prizes",doc:o}).then((function(){n(i[0].photo)})):r.get({collection:"unique_prizes",doc:d[1]}).then((function(){n(i[0].photo)}))}else i.length&&!i[0].available_prizes&&(n(i[0].photo),t({type:Ae,payload:{typePrize:""}}))}))}}(r))}))}},Ee={barImageUrl:null,targetBarId:null,typePrize:""},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:case Ie:return Object(m.a)(Object(m.a)({},e),{},{barImageUrl:t.payload});case Se:return Object(m.a)(Object(m.a)({},e),{},{targetBarId:t.payload.targetBarId});case Ae:return Object(m.a)(Object(m.a)({},e),{},{typePrize:t.payload.typePrize});default:return e}},Re=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={code:Ce(9999,1e3)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this.props,n=a.dataCity,i=a.match,c=!!(null===i||void 0===i||null===(e=i.params)||void 0===e?void 0:e.id)&&(null===i||void 0===i||null===(t=i.params)||void 0===t?void 0:t.id);this.props.getRandomBar(n.valueCity,c),this.props.changeCity(n.nameCity,n.valueCity)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.showBar,n=t.savePromocode,i=t.auth,c=t.bar,r=t.prize,s=t.saveWinningPromocodeInStore,o=t.match,d=t.dataCity;if(e.dataCity.valueCity!==this.props.dataCity.valueCity){var l,b,h=!!(null===o||void 0===o||null===(l=o.params)||void 0===l?void 0:l.id)&&(null===o||void 0===o||null===(b=o.params)||void 0===b?void 0:b.id);this.props.getRandomBar(d.valueCity,h)}if(a!==e.showBar&&a&&r&&r.length>0){var j={bar_id:c.id,code:this.state.code,is_check:!1,name_bar:c.name,photo:c.photo,prize:r.length>0?r[0]:{},qr_code:null};i.uid?n(i.uid,j):s(j)}}},{key:"render",value:function(){var e=this.props,t=e.bar,a=e.auth,n=e.showBar,i=e.prize,c=(e.barImageUrl,e.backToStartScreen),r=e.reviews,s=(e.match,this.state.code);return console.log(this.props),"object"===typeof t&&Z(t)&&i||!t&&Array.isArray(t)&&t.length<=0?Object(P.jsx)("div",{children:"'\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...'"}):t?Object(P.jsx)(b.a,{unmountOnExit:!0,in:n,timeout:2300,classNames:"b-screen",children:Object(P.jsx)(ye,{isAuth:!!a.uid,code:s,qrCode:null,endWorkTime:t.end_work_time,address:t.address,geo:t.geo,name:t.name,prize:i&&Array.isArray(i)&&i.length?i[0]:{},urlImage:t.photo,backToStartScreen:c,reviews:r,barId:t.id})}):Object(P.jsx)("div",{children:"'\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...'"})}}]),a}(n.Component),De=Object(G.d)(Object(M.firestoreConnect)((function(e){var t=[];return e.bar&&e.bar.id&&t.push({collection:"reviews",doc:e.bar.id}),t})),Object(l.b)((function(e){var t=e.firebase,a=e.firestore,n=e.bars,i=e.users,c=a.ordered.bars&&a.ordered.bars.length>0?a.ordered.bars.filter((function(e){return e.id===n.targetBarId})):{};return{auth:t.auth,bar:Array.isArray(c)?c[0]:c,prize:a.ordered.unique_prizes?a.ordered.unique_prizes.filter((function(e){return e.id===n.typePrize[1]})):null,barImageUrl:n.barImageUrl,reviews:a.ordered.reviews?a.ordered.reviews:[],dataCity:{valueCity:i.valueCity,nameCity:i.nameCity}}}),(function(e){return{getRandomBar:function(t,a){return e(Be(t,a))},savePromocode:function(t,a){return e(R(t,a))},saveWinningPromocodeInStore:function(t){return e(function(e){return function(t){t({type:E,payload:e})}}(t))},changeCity:function(t,a){return e(v(t,a))}}})))(Object(j.f)(Re)),Te=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.location,n=e.bars,i=e.history,c=e.reviews;console.log(n);var r=n&&n[a.state.barId]?n[a.state.barId]:{};return Object(P.jsx)(ye,{isAuth:!!t.uid,code:a.state.code,qrCode:a.state.qrCode,endWorkTime:Z(r)?"":r.end_work_time,address:Z(r)?"":r.address,geo:Z(r)?null:r.geo,name:Z(r)?"":r.name,prize:a.state.prize,urlImage:a.state.imageUrl,backToStartScreen:function(){return i.goBack()},reviews:c,barId:a.state.barId})}}]),a}(n.Component),Fe=Object(G.d)(Object(M.firestoreConnect)((function(e){var t=e.location.state.barId;return[{collection:"bars",doc:t},{collection:"reviews",doc:t}]})),Object(l.b)((function(e){var t=e.firebase,a=e.firestore;return{auth:t.auth,bars:a.data.bars,reviews:a.ordered.reviews?a.ordered.reviews:[]}})))(Object(j.f)(Te)),Me=a(52),ze=a(380),Pe=Object(ze.withNaming)({n:"",e:"__",m:"--",v:"_"}),We=Pe("sign"),He=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.link,n=e.title;return Object(P.jsxs)("main",{className:We(),children:[Object(P.jsxs)("svg",{className:We("bg",{top:!0}),width:"353",height:"202",viewBox:"0 0 353 202",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(P.jsx)("g",{clipPath:"url(#clip0)",children:Object(P.jsx)("path",{d:"M5.58143 186.402C-16.7847 207.411 -42.623 207.145 -52.7464 204.386L-155.265 132.124L8.44741 -126.602L371.796 -86.1431C389.379 -90.0134 418.431 -86.5454 393.968 -41.7113C363.389 14.3314 212.039 12.1655 119.967 39.6799C27.8952 67.1944 33.5391 160.141 5.58143 186.402Z",fill:"url(#paint0_linear)",stroke:"#21372A",strokeWidth:"10"})}),Object(P.jsxs)("defs",{children:[Object(P.jsxs)("linearGradient",{id:"paint0_linear",x1:"-108.245",y1:"-131.207",x2:"373.566",y2:"209.205",gradientUnits:"userSpaceOnUse",children:[Object(P.jsx)("stop",{stopColor:"#09C883"}),Object(P.jsx)("stop",{offset:"1",stopColor:"#086A29"})]}),Object(P.jsx)("clipPath",{id:"clip0",children:Object(P.jsx)("rect",{width:"353",height:"202",fill:"white"})})]})]}),Object(P.jsx)(A.a,{to:a.to,className:We("switchPageBtn"),children:a.text}),Object(P.jsx)("h1",{className:We("heading"),children:n}),t,Object(P.jsx)(A.a,{className:We("backLink"),to:"/",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(P.jsxs)("svg",{className:We("bg",{bottom:!0}),width:"280",height:"173",viewBox:"0 0 280 173",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(P.jsx)("g",{clipPath:"url(#clip0)",children:Object(P.jsx)("path",{d:"M118.5 141.5C0.5 158 4.5 173.5 -10 225V254H301.5V7C289.833 8.83333 263.9 17.8 253.5 39C240.5 65.5 236.5 125 118.5 141.5Z",fill:"url(#paint0_linear)",stroke:"#21372A",strokeWidth:"10"})}),Object(P.jsxs)("defs",{children:[Object(P.jsxs)("linearGradient",{id:"paint0_linear",x1:"0.279499",y1:"14.9589",x2:"329.654",y2:"160.601",gradientUnits:"userSpaceOnUse",children:[Object(P.jsx)("stop",{stopColor:"#09C883"}),Object(P.jsx)("stop",{offset:"1",stopColor:"#086A29"})]}),Object(P.jsx)("clipPath",{id:"clip0",children:Object(P.jsx)("rect",{width:"280",height:"173",fill:"white"})})]})]})]})}}]),a}(n.Component),Le=(a(620),Pe("sign")),Ge=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(Me.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(P.jsx)(He,{link:{to:"/signin",text:"\u0412\u0445\u043e\u0434"},title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",children:Object(P.jsxs)("form",{onSubmit:this.handleSubmit,className:Le("form"),children:[Object(P.jsxs)("div",{className:Le("inputGroup"),children:[Object(P.jsx)("input",{className:Le("input"),placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",id:"email",onChange:this.handleChange}),Object(P.jsx)("input",{className:Le("input"),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",onChange:this.handleChange}),Object(P.jsx)("input",{className:Le("input"),placeholder:"\u0418\u043c\u044f",type:"text",id:"firstName",onChange:this.handleChange}),Object(P.jsx)("input",{className:Le("input"),placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",type:"text",id:"lastName",onChange:this.handleChange})]}),Object(P.jsx)("button",{type:"submit",className:Le("goBtn"),children:Object(P.jsx)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(P.jsx)("path",{d:"M22 0C9.84995 0 0 9.84995 0 22C0 34.15 9.84995 44 22 44C34.15 44 44 34.15 44 22C44 9.84995 34.15 0 22 0ZM19.5563 10.8953L36.2145 22L19.5563 33.1047V27.1215H7.78554V16.8791H19.5563V10.8953Z",fill:"black"})})})]})})}}]),a}(n.Component),qe=Object(l.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var i=n.getFirebase,c=n.getFirestore,r=i(),s=c();r.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(n){var i=a().promocodes.promocodeWon;Z(i)||t(R(n.user.uid,i));var c={name:a().users.nameCity,name_id:a().users.valueCity};return s.collection("users").doc(n.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:"".concat(e.firstName[0]).concat(e.lastName[0]),default_city:c,photo:null,role:"user"})})).then((function(){t({type:V}),p.push("/")})).catch((function(e){t({type:J,payload:e}),alert("\u041e\u0448\u0438\u0431\u043a\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}}(t))}}}))(Ge),Ze=(a(621),Pe("sign")),Qe=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(Me.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(s.a)(a,[{key:"render",value:function(){return console.log(this.props.authError),Object(P.jsx)(He,{link:{to:"/signup",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},title:"\u0412\u0445\u043e\u0434",children:Object(P.jsx)(n.Fragment,{children:Object(P.jsxs)("form",{onSubmit:this.handleSubmit,className:Ze("form"),children:[Object(P.jsxs)("div",{className:Ze("inputGroup"),children:[Object(P.jsx)("input",{className:Ze("input"),type:"email",id:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430",onChange:this.handleChange}),Object(P.jsx)("input",{className:Ze("input"),type:"password",id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:this.handleChange})]}),Object(P.jsx)("button",{type:"submit",className:Ze("goBtn"),children:Object(P.jsx)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(P.jsx)("path",{d:"M22 0C9.84995 0 0 9.84995 0 22C0 34.15 9.84995 44 22 44C34.15 44 44 34.15 44 22C44 9.84995 34.15 0 22 0ZM19.5563 10.8953L36.2145 22L19.5563 33.1047V27.1215H7.78554V16.8791H19.5563V10.8953Z",fill:"black"})})})]})})})}}]),a}(n.Component),Xe=Object(l.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(a){e({type:Q}),p.push("/");var n=t().promocodes.promocodeWon;Z(n)||e(R(a.user.uid,n))})).catch((function(t){e({type:X,payload:t}),alert("\u041e\u0448\u0438\u0431\u043a\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}));var a}}}))(Qe),Ye=a.p+"static/media/phones.1932ce3a.png",Ve=a.p+"static/media/beercoin.5e1c2728.svg",Je=(a(622),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",{className:"desktop-screen",children:Object(P.jsxs)("div",{className:"desktop-screen__center",children:[Object(P.jsx)("img",{className:"desktop-screen__logo-main",src:Ve,alt:"BeerCoin"}),Object(P.jsx)("div",{className:"desktop-screen__left",children:Object(P.jsx)("img",{className:"desktop-screen__img",src:Ye,alt:""})}),Object(P.jsxs)("div",{className:"desktop-screen__right",children:[Object(P.jsx)("h1",{className:"desktop-screen__h1",children:"\u041f\u043e\u0434\u043a\u0438\u043d\u044c \u043c\u043e\u043d\u0435\u0442\u043a\u0443 \u0438 \u043f\u0435\u0439 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e!"}),Object(P.jsx)("h2",{className:"desktop-screen__h2",children:"\u0417\u0430\u043a\u0440\u0443\u0442\u0438 \u0441\u0432\u043e\u044e \u0443\u0434\u0430\u0447\u0443 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438 \u0441\u043a\u0438\u0434\u043a\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u043c \u0431\u0430\u0440\u0435."}),Object(P.jsx)("h3",{className:"desktop-screen__go-to",children:"\u041e\u0442\u043a\u0440\u043e\u0439 \u043d\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0435"})]})]})})})}}]),a}(n.Component)),Ke=a(138);a(794),a(623),a(625),a(795);Ke.initializeApp({apiKey:"AIzaSyDaLdkt15q132Hb88jIVYYPOrfnUaBJHv8",authDomain:"beercoin12.firebaseapp.com",databaseURL:"https://beercoin12.firebaseio.com",projectId:"beercoin12",storageBucket:"beercoin12.appspot.com",messagingSenderId:"127473982008",appId:"1:127473982008:web:4b5d01f7d85f7f477c24cd",measurementId:"G-RM52L3SW37"}),Ke.firestore().settings({timestampsInSnapshots:!0});var $e=Ke,et=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={addBar_id:"",addBar_address:"",addBar_end_work_time:"",addBar_latitude:"",addBar_longtitude:"",addBar_name:"",addBar_photo:"",addBar_city:"",addBar_id_city:""},e.addBar=function(t){t.preventDefault(),e.props.addBarAdmin("bars",e.state.addBar_id,{address:e.state.addBar_address,end_work_time:e.state.addBar_end_work_time,geo:new $e.firestore.GeoPoint(+e.state.addBar_latitude,+e.state.addBar_longtitude),name:e.state.addBar_name,photo:e.state.addBar_photo}),e.props.addBarIdAdmin("bars_id",e.state.addBar_id_city,{bar_id:e.state.addBar_id,geo:new $e.firestore.GeoPoint(+e.state.addBar_latitude,+e.state.addBar_longtitude)})},e.handleInputChange=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value,i=a.name;e.setState(Object(Me.a)({},i,n))},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(P.jsx)("div",{children:Object(P.jsxs)("section",{children:[Object(P.jsx)("h1",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0431\u0430\u0440"}),Object(P.jsx)("a",{href:"http://joxi.ru/Q2KYQqWCLRxe9r",target:"_blank",rel:"noopener noreferrer",children:"\u041f\u0440\u0438\u043c\u0435\u0440 API"}),Object(P.jsxs)("form",{onSubmit:this.addBar,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"Id \u0431\u0430\u0440\u0430"}),Object(P.jsx)("input",{name:"addBar_id",value:this.state.addBar_id,onChange:this.handleInputChange})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}),Object(P.jsx)("input",{name:"addBar_city",value:this.state.addBar_city,onChange:this.handleInputChange})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"Id \u0433\u043e\u0440\u043e\u0434\u0430 (\u043a\u0430\u043a \u0432 option \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435)"}),Object(P.jsx)("input",{name:"addBar_id_city",value:this.state.addBar_id_city,onChange:this.handleInputChange})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\u0410\u0434\u0440\u0435\u0441"}),Object(P.jsx)("input",{name:"addBar_address",value:this.state.addBar_address,onChange:this.handleInputChange})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f"}),Object(P.jsx)("input",{name:"addBar_end_work_time",value:this.state.addBar_end_work_time,onChange:this.handleInputChange})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"Geo"}),Object(P.jsx)("input",{name:"addBar_latitude",placeholder:"\u0428\u0438\u0440\u043e\u0442\u0430",value:this.state.addBar_latitude,onChange:this.handleInputChange}),Object(P.jsx)("input",{name:"addBar_longtitude",placeholder:"\u0414\u043e\u043b\u0433\u043e\u0442\u0430",value:this.state.addBar_longtitude,onChange:this.handleInputChange})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(P.jsx)("input",{name:"addBar_name",value:this.state.addBar_name,onChange:this.handleInputChange})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("label",{children:"\u0424\u043e\u0442\u043e"}),Object(P.jsx)("input",{name:"addBar_photo",value:this.state.addBar_photo,onChange:this.handleInputChange})]}),Object(P.jsx)("button",{type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})}}]),a}(n.Component),tt=Object(l.b)(null,(function(e){return{addBarAdmin:function(t,a,n){return e(function(e,t,a){return function(n,i,c){c.getFirebase,(0,c.getFirestore)().collection(e).doc(t).set(a)}}(t,a,n))},addBarIdAdmin:function(t,a,n){return e(function(e,t,a){return function(n,i,c){c.getFirebase;var r=(0,c.getFirestore)();r.get({collection:e,doc:t}).then((function(){var n=i().firestore.ordered.bars_id.filter((function(e){return e.id===t})),c=[].concat(Object(fe.a)(n[0].content),[Object(m.a)({},a)]);r.collection(e).doc(t).set({content:c})}))}}(t,a,n))}}}))(et),at=(a(629),Pe("about")),nt=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.history;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:at("nav"),children:[Object(P.jsx)("div",{className:"b-coin-head__item",onClick:function(){return e.goBack()},children:Object(P.jsx)("div",{className:"b-coin-head__icon",children:Object(P.jsx)("img",{src:S,alt:""})})}),Object(P.jsx)("div",{className:"b-screen-bar__nav-tab-bar",children:Object(P.jsx)("h2",{className:at("title"),children:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"})}),Object(P.jsx)("div",{className:"b-coin-head__item",children:Object(P.jsx)("div",{className:"b-coin-head__icon"})})]}),Object(P.jsxs)("div",{className:at("content"),children:[Object(P.jsx)("img",{className:at("logo"),src:Ve,alt:"BeerCoin"}),Object(P.jsx)("p",{className:at("version"),children:ee}),Object(P.jsx)("p",{className:at("slogan"),children:"BeerCoin - \u041f\u043e\u0437\u0432\u043e\u043b\u044c \u043c\u043e\u043d\u0435\u0442\u043a\u0435 \u0440\u0435\u0448\u0438\u0442\u044c \u0437\u0430 \u0442\u0435\u0431\u044f"}),Object(P.jsx)("h2",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(P.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0441 \u0446\u0435\u043b\u044c\u044e \u043f\u043e\u043c\u043e\u0447\u044c \u0432\u0430\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u0431\u0430\u0440\u043e\u043c \u0438\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0432 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u043c \u0433\u043e\u0440\u043e\u0434\u0435 \u0438\u043b\u0438 \u0440\u0430\u0439\u043e\u043d\u0435."}),Object(P.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0438"}),Object(P.jsxs)("p",{children:[Object(P.jsx)("a",{href:"https://www.instagram.com/amedomary2/",children:"\u041c\u0430\u043a\u0441\u0438\u043c"}),Object(P.jsx)("br",{}),Object(P.jsx)("a",{href:"https://www.instagram.com/vladka1233/",children:"\u0412\u043b\u0430\u0434"})]})]})]})}}]),a}(n.Component),it=(a(630),function(){return Object(P.jsx)(De,{showBar:!0,backToStartScreen:function(){}})}),ct=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={isStopFlipping:!1,showBar:!1},e.stopFlipping=function(){e.setState({isStopFlipping:!0})},e.backToStartScreen=function(){e.setState({isStopFlipping:!1,showBar:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.auth.isEmpty||!this.props.userData.length||e.userData||this.props.changeCity(this.props.userData[0].default_city.name,this.props.userData[0].default_city.name_id)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,i=(t.userData,this.state),c=i.isStopFlipping,r=i.showBar;return console.log(a),Object(P.jsx)(j.b,{history:p,children:Object(P.jsx)("div",{className:"App",children:h.isMobile?Object(P.jsxs)(j.c,{children:[Object(P.jsx)(j.a,{exact:!0,path:"/",children:Object(P.jsxs)(n.Fragment,{children:[Object(P.jsx)(b.a,{unmountOnExit:!0,in:!c,timeout:500,classNames:"b-screen",onExited:function(){return e.setState({showBar:!0})},children:Object(P.jsx)(n.Fragment,{children:Object(P.jsx)(ne,{stopFlipping:this.stopFlipping})})}),Object(P.jsx)(De,{showBar:r,backToStartScreen:this.backToStartScreen})]})}),Object(P.jsx)(j.a,{path:"/signup",component:qe}),Object(P.jsx)(j.a,{path:"/signin",component:Xe}),Object(P.jsx)(j.a,{path:"/promocode/:id",component:Fe}),Object(P.jsx)(j.a,{path:"/about",component:nt}),Object(P.jsx)(j.a,{exact:!0,path:"/admin/get-bar/:id",component:it}),Object(P.jsx)(j.a,{exact:!0,path:"/admin/add-bar",component:tt})]}):Object(P.jsx)(Je,{})})})}}]),a}(n.Component),rt=Object(l.b)((function(e){var t=e.firebase,a=e.firestore;return{auth:t.auth,userData:!!a.ordered.users&&!!a.ordered.users.length&&a.ordered.users.filter((function(e){return t.auth.uid===e.id}))}}),(function(e){return{changeCity:function(t,a){return e(v(t,a))}}}))(ct);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=a(382),ot=a(139);var dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.c)({promocodes:F,auth:$,bars:Ue,users:x,firestore:ot.firestoreReducer,firebase:M.firebaseReducer});return Object(G.e)(t,e,Object(G.d)(Object(G.a)(st.a.withExtraArgument({getFirebase:M.getFirebase,getFirestore:ot.getFirestore})),Object(M.reactReduxFirebase)($e,{attachAuthIsReady:!0}),Object(ot.reduxFirestore)($e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))}();dt.firebaseAuthIsReady.then((function(){c.a.render(Object(P.jsx)(l.a,{store:dt,children:Object(P.jsx)(rt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}))}},[[793,1,2]]]);
//# sourceMappingURL=main.66c824bd.chunk.js.map