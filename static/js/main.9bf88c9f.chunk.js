(this["webpackJsonpcoin-decide"]=this["webpackJsonpcoin-decide"]||[]).push([[0],{389:function(e,t,n){},596:function(e,t,n){},599:function(e,t,n){},600:function(e,t,n){},601:function(e,t,n){},602:function(e,t,n){},603:function(e,t,n){},611:function(e,t,n){},612:function(e,t,n){},613:function(e,t,n){},614:function(e,t,n){},615:function(e,t,n){},616:function(e,t,n){},617:function(e,t,n){},618:function(e,t,n){},620:function(e,t,n){},621:function(e,t,n){},622:function(e,t,n){},623:function(e,t,n){},624:function(e,t,n){},793:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(51),c=n.n(i),r=(n(389),n(4)),s=n(5),o=n(7),l=n(6),d=n(26),b=n(796),h=n(374),j=n(16),u=n(34),p=Object(u.a)(),m=n(10),O="CHANGE_CITY_SUCCESS",v=function(e,t){return function(n,a,i){var c=(0,i.getFirestore)(),r=a();r.firebase.auth.uid&&c.update({collection:"users",doc:r.firebase.auth.uid},{default_city:{name:e,name_id:t}}),n({type:O,payload:{nameCity:e,valueCity:t}})}},f={nameCity:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a",valueCity:"ulyanovsk"},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(m.a)(Object(m.a)({},e),{},{nameCity:t.payload.nameCity,valueCity:t.payload.valueCity});default:return e}},g=n(375),_=n.n(g),y=n(208),N=(n(429),n(377)),C=n.p+"static/media/coin-v.7ec2626c.mp4",w=n.p+"static/media/setting.f259d3ab.svg",k=n.p+"static/media/list.6c6adfa7.svg",I=n.p+"static/media/swipe.15e88c40.svg",S=n.p+"static/media/arrow-side.82f38d3b.svg",A=n(33),E="GET_PROMOCODES_FOR_USER_SUCCESS",U="SAVE_WINNING_PROMOCODE_IN_STORE",B="CLEAR_WON_PROMOCODE",R=function(e,t){return function(n,a,i){var c=i.getFirestore;i.getFirebase;c().add({collection:"promocodes",doc:e,subcollections:[{collection:"content"}]},t).then((function(){D()}))}},D=function(){return function(e){e({type:B})}},T={promocodesForUser:[],promocodeWon:{}};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(m.a)(Object(m.a)({},e),{},{promocodesForUser:t.payload});case U:return Object(m.a)(Object(m.a)({},e),{},{promocodeWon:t.payload});case B:return Object(m.a)(Object(m.a)({},e),{},{promocodeWon:{}});default:return e}}var M=n(36),z=n.p+"static/media/check-circle.dcd489c0.svg",W=(n(596),n(0)),H=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={imageUrl:""},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(M.getFirebase)().storage().ref().child(this.props.photo).getDownloadURL().then((function(t){e.setState({imageUrl:t})}),(function(e){console.error("Promocode Item Error Download Image")}))}},{key:"render",value:function(){var e=this.props,t=e.name_bar,n=e.prize,a=e.is_check,i=e.duration_action,c=e.id,r=e.bar_id,s=e.code,o=e.qr_code,l=this.state.imageUrl;return Object(W.jsxs)(A.a,{to:{pathname:"/promocode/".concat(c),state:{barId:r,code:s,qrCode:o,prize:n,imageUrl:l}},className:"b-promocode-item",style:{backgroundImage:"url(".concat(l,")")},children:[a&&Object(W.jsx)("div",{className:"b-promocode-item__check-wrapper",children:Object(W.jsx)("img",{src:z,alt:""})}),Object(W.jsxs)("div",{className:"b-promocode-item__head",children:[Object(W.jsx)("div",{className:"b-promocode-item__name-place",children:t}),Object(W.jsx)("div",{className:"b-promocode-item__name-prize",children:n.description})]}),Object(W.jsx)("div",{className:"b-promocode-item__footer",children:Object(W.jsxs)("div",{className:"b-promocode-item__date",children:["\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0434\u043e ",i]})})]})}}]),n}(a.Component),P=(n(599),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.auth.uid&&this.props.getPromocodesForUser(this.props.auth.uid)}},{key:"render",value:function(){var e=this.props,t=e.auth,n=e.promocodes;return Object(W.jsx)("ul",{className:"b-promocode-list",children:t.uid?n&&n.length>0?n.map((function(e,t){return Object(W.jsx)("li",{className:"b-promocode-list__item",children:Object(W.jsx)(H,{name_bar:e.name_bar,prize:e.prize,is_check:e.is_check,duration_action:e.prize.expires,id:e.id,bar_id:e.bar_id,code:e.code,qr_code:e.qr_code,photo:e.photo})},t)})):Object(W.jsx)("li",{className:"b-promocode-list__empty",children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u043e\u0432. \u0411\u0440\u043e\u0441\u044c\u0442\u0435 \u043c\u043e\u043d\u0435\u0442\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443 \u0432 \u0431\u0430\u0440\u0435."}):Object(W.jsxs)("li",{className:"b-promocode-list__registration",children:[Object(W.jsx)(A.a,{to:"/signin",children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"}),Object(W.jsx)("div",{className:"b-promocode-list__help",children:"\u0447\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0441\u0435 \u0441\u0432\u043e\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u044b"})]})})}}]),n}(a.Component)),L=Object(d.b)((function(e){var t=e.firebase;return{promocodes:e.promocodes.promocodesForUser,auth:t.auth}}),(function(e){return{getPromocodesForUser:function(t){return e(function(e){return function(t,n,a){var i=a.getFirestore;a.getFirebase,i().get({collection:"promocodes",doc:e,subcollections:[{collection:"content"}]}).then((function(){var e=n().firestore.ordered.promocodes[0].content;t({type:E,payload:e})}),(function(e){console.error(e)}))}}(t))}}}))(P),G=n(37),q=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).handleChange=function(t){var n=t.target.value,a=t.nativeEvent.target.selectedIndex;e.props.changeCity(t.nativeEvent.target[a].text,n)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.head,n=e.content,a=e.select,i=e.valueCity;return Object(W.jsxs)("div",{className:"b-setting-list__item",children:[!!t&&Object(W.jsxs)("div",{className:"b-setting-list__head",children:[!!t.title&&Object(W.jsx)("div",{className:"b-setting-list__title",children:t.title}),!!t.additional&&Object(W.jsx)("div",{className:"b-setting-list__additional-title",children:t.additional})]}),!!n&&!!n.length&&n.map((function(e,t){return e.name||e.link||e.linkTo?Object(W.jsxs)("div",{className:"b-setting-list__content",onClick:e.onClick?e.onClick:function(){},children:[!!e.name&&Object(W.jsx)("div",{className:"b-setting-list__name",children:e.name}),!!e.link&&Object(W.jsx)("a",{href:e.href,className:"b-setting-list__name b-setting-list__name--link",children:e.link}),!!e.linkTo&&Object(W.jsx)(A.a,{className:"b-setting-list__name",to:e.href,children:e.linkTo}),!!e.description&&Object(W.jsx)("div",{className:"b-setting-list__description",children:e.description})]},"settingContent-".concat(t)):null})),!!a&&Object(W.jsxs)("div",{className:"b-setting-list__content",children:[Object(W.jsxs)("select",{name:"valueCity",value:i,className:"b-setting-list__name b-setting-list__name--select",onChange:this.handleChange,children:[Object(W.jsx)("option",{value:"ulyanovsk",children:"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a"}),Object(W.jsx)("option",{value:"moscow",children:"\u041c\u043e\u0441\u043a\u0432\u0430"}),Object(W.jsx)("option",{value:"saint_petersburg",children:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"})]}),!!a.description&&Object(W.jsx)("div",{className:"b-setting-list__description",children:a.description})]})]})}}]),n}(a.Component),Z=function(e){return 0===Object.keys(e).length},X="LOGIN_SUCCESS",Q="LOGIN_ERROR",V="LOGOUT_SUCCESS",Y="SIGNUP_SUCCESS",J="SIGNUP_ERROR",K={authError:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(m.a)(Object(m.a)({},e),{},{authError:t.payload});case X:case V:case Y:return Object(m.a)(Object(m.a)({},e),{},{authError:null});case J:return Object(m.a)(Object(m.a)({},e),{},{authError:t.payload.message});default:return e}},ee=(n(600),"v0.3.2 [10.02.2020]"),te=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.signOut,a=e.userData,i=e.changeCity,c=e.valueCity;return Object(W.jsxs)("div",{className:"b-setting-list",children:[!!t.uid&&Object(W.jsx)(q,{head:{title:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"},content:[{name:"".concat(a.length?a[0].firstName:""," ").concat(a.length?a[0].lastName:""),description:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f"}]}),Object(W.jsx)(q,{head:{title:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435"},select:{description:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"},changeCity:i,valueCity:c}),Object(W.jsx)(q,{head:{title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},content:[{description:ee,linkTo:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438",href:"/about"},{name:"\u0421\u043f\u0438\u0441\u043e\u043a \u0431\u0430\u0440\u043e\u0432",description:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0431\u0430\u0440\u044b \u0443\u0447\u0430\u0432\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0432 \u0438\u0433\u0440\u0435"},{link:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430\u043c",href:"mailto:iamed73@yandex.ru",description:"iAmed73@yandex.ru"}]}),t.uid?Object(W.jsxs)("button",{className:"b-setting-list__logout",onClick:n,children:[Object(W.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(W.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H9C9.55228 20 10 20.4477 10 21C10 21.5523 9.55228 22 9 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7957 2 19V5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2H9C9.55228 2 10 2.44772 10 3C10 3.55228 9.55228 4 9 4H5Z",fill:"#96A491"}),Object(W.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2929 6.29289C15.6834 5.90237 16.3166 5.90237 16.7071 6.29289L21.7071 11.2929C22.0976 11.6834 22.0976 12.3166 21.7071 12.7071L16.7071 17.7071C16.3166 18.0976 15.6834 18.0976 15.2929 17.7071C14.9024 17.3166 14.9024 16.6834 15.2929 16.2929L19.5858 12L15.2929 7.70711C14.9024 7.31658 14.9024 6.68342 15.2929 6.29289Z",fill:"#96A491"}),Object(W.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"#96A491"})]}),Object(W.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})]}):Object(W.jsx)("div",{className:"b-setting-list__registration",children:Object(W.jsx)(A.a,{to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}}]),n}(a.Component),ne=Object(G.d)(Object(d.b)((function(e){var t=e.firebase,n=e.firestore,a=e.users;return{auth:t.auth,userData:!!n.ordered.users&&!!n.ordered.users.length&&n.ordered.users.filter((function(e){return t.auth.uid===e.id})),valueCity:a.valueCity}}),(function(e){return{signOut:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:V})})).catch((function(t){e({type:"LOGOUT_ERROR"}),alert("\u041e\u0448\u0438\u0431\u043a\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}))},changeCity:function(t,n){return e(v(t,n))}}})),Object(M.firestoreConnect)((function(e){return[{collection:"users",doc:e.auth.uid}]})))(te),ae=(n(601),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={flipEnded:!1,isCoinToss:!1},e.nextSlide=function(){e.slider.slickNext()},e.previousSlide=function(){e.slider.slickPrev()},e.onSwipedUp=function(){e.setState({isCoinToss:!0}),e.player.play()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.player.subscribeToStateChange(this.handleStateChange.bind(this)),this.player.play(),this.player.pause()}},{key:"handleStateChange",value:function(e,t){e.ended&&this.props.stopFlipping()}},{key:"render",value:function(){var e=this,t=this.state.isCoinToss;return Object(W.jsx)("div",{className:"b-screen-coin ".concat(t?"is-coin-toss":""),children:Object(W.jsxs)(_.a,Object(m.a)(Object(m.a)({ref:function(t){return e.slider=t}},{dots:!0,infinity:!1,adaptiveHeight:!0,initialSlide:1,arrows:!1,fade:!0,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(W.jsxs)("div",{className:"b-screen-coin__slide",children:[Object(W.jsx)("h2",{className:"b-screen-coin__title",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),Object(W.jsx)("div",{className:"b-coin-head",children:Object(W.jsx)("div",{className:"b-coin-head__item b-coin-head__item--right",onClick:this.nextSlide,children:Object(W.jsx)("div",{className:"b-coin-head__icon b-coin-head__icon--right",children:Object(W.jsx)("img",{src:S,alt:""})})})}),Object(W.jsx)(ne,{})]}),Object(W.jsxs)("div",{className:"b-screen-coin__slide",children:[Object(W.jsxs)("div",{className:"b-coin-head ".concat(t?"is-hide":""),children:[Object(W.jsxs)("button",{className:"b-coin-head__item",type:"button",onClick:this.previousSlide,children:[Object(W.jsx)("div",{className:"b-coin-head__icon",children:Object(W.jsx)("img",{src:w,alt:""})}),Object(W.jsx)("span",{className:"b-coin-head__btn-title",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),Object(W.jsxs)("button",{className:"b-coin-head__item",type:"button",onClick:this.nextSlide,children:[Object(W.jsx)("div",{className:"b-coin-head__icon",children:Object(W.jsx)("img",{src:k,alt:""})}),Object(W.jsx)("span",{className:"b-coin-head__btn-title",children:"\u041c\u043e\u0438 \u043a\u043e\u0434\u044b"})]})]}),Object(W.jsxs)(N.a,{className:"b-screen-coin__swipeable",onSwipedUp:this.onSwipedUp,preventDefaultTouchmoveEvent:!0,children:[Object(W.jsxs)("div",{className:"b-screen-coin__control-image ".concat(t?"is-hide":""),children:[Object(W.jsx)("img",{src:I,alt:""}),Object(W.jsx)("div",{className:"b-screen-coin___control-image-line"})]}),Object(W.jsx)(y.Player,{ref:function(t){e.player=t},fluid:!1,width:"100%",height:"100%",playsInline:!0,type:"video/mp4",preload:"auto",src:C,children:Object(W.jsx)(y.ControlBar,{disableCompletely:!0})})]})]}),Object(W.jsxs)("div",{className:"b-screen-coin__slide",children:[Object(W.jsx)("h2",{className:"b-screen-coin__title",children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u044b"}),Object(W.jsx)("div",{className:"b-coin-head",children:Object(W.jsx)("div",{className:"b-coin-head__item",onClick:this.previousSlide,children:Object(W.jsx)("div",{className:"b-coin-head__icon",children:Object(W.jsx)("img",{src:S,alt:""})})})}),Object(W.jsx)(L,{})]})]}))})}}]),n}(a.Component)),ie=(n(602),n.p+"static/media/beer.e6d7903c.svg"),ce=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.description;return Object(W.jsxs)("div",{className:"b-sale",children:[Object(W.jsxs)("div",{className:"b-sale__info",children:[Object(W.jsx)("div",{className:"b-sale__name",children:e}),Object(W.jsx)("div",{className:"b-sale__type",children:"\u041f\u0440\u0438\u0437"})]}),Object(W.jsx)("div",{className:"b-sale__icon",children:Object(W.jsx)("img",{src:ie,alt:"\u0411\u043e\u043a\u0430\u043b \u043f\u0438\u0432\u0430"})})]})}}]),n}(a.Component),re=(n(603),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.endWorkTime,n=e.address,a=e.name,i=e.descriptionSale,c=e.urlImage;return Object(W.jsx)("div",{className:"b-card",children:Object(W.jsxs)("div",{className:"b-card__wrapper",children:[Object(W.jsx)("div",{className:"b-card__image-wrapper",children:Object(W.jsx)("img",{className:"b-card__image",src:c,alt:""})}),Object(W.jsxs)("div",{className:"b-card__info-bar",children:[Object(W.jsxs)("div",{className:"b-card__address",children:["\u041e\u0442\u043a\u0440\u044b\u0442\u043e \u0434\u043e ",t]}),Object(W.jsx)("div",{className:"b-card__address",children:n}),Object(W.jsx)("h1",{className:"b-card__name",children:a})]}),!!i&&Object(W.jsx)(ce,{description:i})]})})}}]),n}(a.Component)),se=n(207),oe=n.n(se),le=n(378),de=n.n(le),be=(n(607),n(608),n(609),n(610),n(611),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={activeIndex:0},e.handleActiveIndexUpdate=function(t){e.setState({activeIndex:t}),e.props.getTabIndex&&e.props.getTabIndex(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.tabs;return Object(W.jsx)("div",{className:"b-tab-bar",children:Object(W.jsx)(de.a,{activeIndex:this.state.activeIndex,handleActiveIndexUpdate:this.handleActiveIndexUpdate,children:e.map((function(e){return Object(W.jsx)(oe.a,{children:Object(W.jsx)("span",{className:"mdc-tab__text-label",children:e})},e)}))})})}}]),n}(a.Component)),he=(n(612),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAuth,n=e.code,a=e.qrCode;return Object(W.jsxs)("div",{className:"b-code",children:[Object(W.jsxs)("div",{className:"b-code__value",children:["Code: ",n]}),!!a&&Object(W.jsx)("div",{className:"b-code__qr-wrapper",children:Object(W.jsx)("img",{src:"data:image/png;base64,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",alt:"qr \u043a\u043e\u0434"})}),Object(W.jsxs)("div",{className:"b-code__footer",children:[Object(W.jsx)("div",{className:"b-code__note",children:Object(W.jsx)("span",{children:"\u041f\u043e\u043a\u0430\u0436\u0438 QR-code \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u0438\u043a\u0442\u0443\u0439 \u043a\u043e\u0434 \u0431\u0430\u0440\u043c\u0435\u043d\u0443 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438 \u0441\u043a\u0438\u0434\u043a\u0443"})}),!t&&Object(W.jsxs)(A.a,{to:"/signup",className:"b-code__auth",children:[Object(W.jsx)("span",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0441\u044f,"})," \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u0442\u044c!"]})]})]})}}]),n}(a.Component));he.defaultProps={isAuth:!1};var je=he,ue=n(136),pe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.geo;return Object(W.jsx)("div",{style:{height:"calc(100% - 49px)"},children:Object(W.jsx)(ue.c,{children:Object(W.jsx)(ue.a,{defaultState:{center:[e.latitude,e.longitude],zoom:17},width:"100%",height:"100%",children:Object(W.jsx)(ue.b,{geometry:[e.latitude,e.longitude]})})})})}}]),n}(a.Component),me=n.p+"static/media/taxi.91c29353.svg",Oe=(n(613),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(W.jsxs)("a",{href:"/",title:"\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438",className:"b-taxi-button",children:[Object(W.jsx)("img",{className:"b-taxi-button__icon-taxi",src:me,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0442\u0430\u043a\u0441\u0438"}),Object(W.jsx)("span",{className:"b-taxi-button__text",children:"\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u0438"})]})}}]),n}(a.Component)),ve=(n(614),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(W.jsx)("div",{className:"b-badge",children:this.props.children})}}]),n}(a.Component)),fe=n(382),xe=(n(615),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.number,t=Object(fe.a)(new Array(5)),n=t.length-e;return Object(W.jsx)("div",{className:"b-rating",children:t.map((function(e,t){return t<n?Object(W.jsx)("span",{children:"\u2606"}):Object(W.jsx)("span",{className:"checked",children:"\u2606"})}))})}}]),n}(a.Component)),ge=(n(616),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.src;return Object(W.jsxs)("div",{className:"b-avatar",children:[!!t&&t,!!n&&Object(W.jsx)("img",{src:n,alt:""})]})}}]),n}(a.Component)),_e=(n(617),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.reviews,n=e.barId,a=t.find((function(e){return e.id===n})),i=new Date,c=function(e){i.setTime(1e3*e);var t=i.getMonth()<9?"0".concat(i.getMonth()+1):i.getMonth()+1;return"".concat(i.getDate(),".").concat(t,".").concat(i.getFullYear())};return a?Object(W.jsxs)("div",{className:"b-review",children:[Object(W.jsxs)("div",{className:"b-review__head",children:[Object(W.jsx)(ve,{children:a.final_grade}),Object(W.jsxs)("div",{className:"b-review__category",children:[Object(W.jsx)("span",{children:"\u0411\u0430\u0440"}),Object(W.jsx)("span",{children:"\u041f\u0430\u0431"})]})]}),Object(W.jsx)("ul",{className:"b-review__list",children:a.reviews.map((function(e,t){return Object(W.jsx)("li",{className:"b-review__item",children:Object(W.jsxs)("div",{className:"b-review__review",children:[Object(W.jsx)("div",{className:"b-review__review-person",children:Object(W.jsxs)("div",{className:"b-review__avatar",children:[Object(W.jsx)(ge,{src:"https://mhealth.ru/media/images/2019/3/13/033a4223a2a34775b354411666ff04ef.width-630.jpg"}),Object(W.jsx)("div",{className:"b-review__name",children:"".concat(e.author.firstName," ").concat(e.author.lastName)})]})}),Object(W.jsxs)("div",{className:"b-review__rating",children:[Object(W.jsx)(xe,{number:Math.trunc(e.rate)}),Object(W.jsx)("div",{className:"b-review__rating-date",children:c(e.date.seconds)})]}),Object(W.jsx)("div",{className:"b-review__text",children:e.review})]})},t)}))})]}):"\u041f\u043e\u043a\u0430 \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u043b \u043e\u0442\u0437\u044b\u0432."}}]),n}(a.Component)),ye=(n(618),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={tabIndex:0},e.handleActiveIndexUpdate=function(t){e.setState({tabIndex:t})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAuth,n=e.endWorkTime,i=e.address,c=e.geo,r=e.name,s=e.prize,o=e.code,l=e.qrCode,d=e.reviews,b=e.urlImage,h=e.backToStartScreen,j=e.barId,u=this.state.tabIndex,p=function(){return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(re,{name:r,address:i,endWorkTime:n,descriptionSale:s.description,urlImage:b}),Object(W.jsx)("div",{className:"b-screen-bar__tab-content",children:Z(s)?Object(W.jsx)("div",{style:{marginTop:"30px"},children:"\u0422\u0435\u0431\u044f \u0443\u0436\u0435 \u0436\u0434\u0443\u0442 \u0437\u0434\u0435\u0441\u044c, \u043f\u0440\u0438\u0445\u043e\u0434\u0438!"}):Object(W.jsx)(je,{isAuth:t,code:o,qrCode:l})})]})},m=function(){switch(u){case 0:return p();case 1:return Object(W.jsxs)("div",{className:"b-screen-bar__tab-content b-screen-bar__tab-content--full",children:[Object(W.jsx)("h2",{className:"b-screen-bar__tab-title",children:r}),Object(W.jsx)(_e,{reviews:d,barId:j})]});case 2:return Object(W.jsxs)("div",{className:"b-screen-bar__tab-content b-screen-bar__tab-content--full",children:[Object(W.jsx)("h2",{className:"b-screen-bar__tab-title",children:r}),Object(W.jsx)(pe,{geo:c}),Object(W.jsx)("div",{className:"b-screen-bar__taxi",children:Object(W.jsx)(Oe,{})})]});default:return p()}};return Object(W.jsxs)("div",{className:"b-screen-bar",children:[Object(W.jsxs)("div",{className:"b-screen-bar__nav",children:[Object(W.jsx)("div",{className:"b-coin-head__item",onClick:h,children:Object(W.jsx)("div",{className:"b-coin-head__icon",children:Object(W.jsx)("img",{src:S,alt:""})})}),Object(W.jsx)("div",{className:"b-screen-bar__nav-tab-bar",children:Object(W.jsx)(be,{getTabIndex:this.handleActiveIndexUpdate,tabs:["\u041a\u043e\u0434","\u041e\u0442\u0437\u044b\u0432\u044b","\u041a\u0430\u0440\u0442\u0430"]})}),Object(W.jsx)("div",{className:"b-coin-head__item",children:Object(W.jsx)("div",{className:"b-coin-head__icon",children:Object(W.jsx)("img",{src:"",alt:""})})})]}),Object(W.jsx)(m,{})]})}}]),n}(a.Component)),Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t+Math.random()*(e+1-t);return Math.floor(n)},Ce=function e(t){if(!t)return t;var n=Object.keys(t);if(t[n[n.length*Math.random()<<0]])return n[n.length*Math.random()<<0];e(t)},we=n.p+"static/media/plug-for-bar.8f664567.jpg",ke="GET_URL_BAR_IMAGE_SUCCESS",Ie="GET_URL_BAR_IMAGE_ERROR",Se="SAVE_BAR_ID_QUERY",Ae="SAVE_TYPE_PRIZE",Ee=function(e){return console.log(e),function(t,n,a){(0,a.getFirestore)().get({collection:"bars_id",doc:e}).then((function(){var a=n().firestore.ordered.bars_id.filter((function(t){return t.id===e}))[0].content,i=a[Ne(a.length-1)].bar_id;t(function(e){return function(t,n,a){var i=a.getFirestore,c=a.getFirebase,r=i();t({type:Se,payload:{targetBarId:e}}),r.get({collection:"bars",doc:e}).then((function(){var a=function(e){c().storage().ref().child(e).getDownloadURL().then((function(e){t({type:ke,payload:e})}),(function(e){t({type:Ie,payload:we})}))},i=n().firestore.ordered.bars.filter((function(t){return t.id===e}));if(i.length&&i[0].available_prizes){var s=i[0].available_prizes,o=Ce(s),l=o.split("_");t({type:Ae,payload:{typePrize:l}}),"common"===l[0]?r.get({collection:"common_prizes",doc:o}).then((function(){a(i[0].photo)})):r.get({collection:"unique_prizes",doc:l[1]}).then((function(){a(i[0].photo)}))}else i.length&&!i[0].available_prizes&&(a(i[0].photo),t({type:Ae,payload:{typePrize:""}}))}))}}(i))}))}},Ue={barImageUrl:null,targetBarId:null,typePrize:""},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:case Ie:return Object(m.a)(Object(m.a)({},e),{},{barImageUrl:t.payload});case Se:return Object(m.a)(Object(m.a)({},e),{},{targetBarId:t.payload.targetBarId});case Ae:return Object(m.a)(Object(m.a)({},e),{},{typePrize:t.payload.typePrize});default:return e}},Re=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={code:Ne(9999,1e3)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.dataCity;this.props.getRandomBar(e.valueCity),this.props.changeCity(e.nameCity,e.valueCity)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.showBar,a=t.savePromocode,i=t.auth,c=t.bar,r=t.prize,s=t.saveWinningPromocodeInStore;if(e.dataCity.valueCity!==this.props.dataCity.valueCity&&this.props.getRandomBar(this.props.dataCity.valueCity),n!==e.showBar&&n&&r&&r.length>0){var o={bar_id:c.id,code:this.state.code,is_check:!1,name_bar:c.name,photo:c.photo,prize:r.length>0?r[0]:{},qr_code:null};i.uid?a(i.uid,o):s(o)}}},{key:"render",value:function(){var e=this.props,t=e.bar,n=e.auth,a=e.showBar,i=e.prize,c=e.barImageUrl,r=e.backToStartScreen,s=e.reviews,o=this.state.code;return"object"===typeof t&&Z(t)&&i||!t&&Array.isArray(t)&&t.length<=0?Object(W.jsx)("div",{children:"'\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...'"}):t?Object(W.jsx)(b.a,{unmountOnExit:!0,in:a,timeout:2300,classNames:"b-screen",children:Object(W.jsx)(ye,{isAuth:!!n.uid,code:o,qrCode:null,endWorkTime:t.end_work_time,address:t.address,geo:t.geo,name:t.name,prize:i&&Array.isArray(i)&&i.length?i[0]:{},urlImage:c,backToStartScreen:r,reviews:s,barId:t.id})}):Object(W.jsx)("div",{children:"'\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...'"})}}]),n}(a.Component),De=Object(G.d)(Object(M.firestoreConnect)((function(e){var t=[];return e.bar&&e.bar.id&&t.push({collection:"reviews",doc:e.bar.id}),t})),Object(d.b)((function(e){var t=e.firebase,n=e.firestore,a=e.bars,i=e.users,c=n.ordered.bars&&n.ordered.bars.length>0?n.ordered.bars.filter((function(e){return e.id===a.targetBarId})):{};return{auth:t.auth,bar:Array.isArray(c)?c[0]:c,prize:n.ordered.unique_prizes?n.ordered.unique_prizes.filter((function(e){return e.id===a.typePrize[1]})):null,barImageUrl:a.barImageUrl,reviews:n.ordered.reviews?n.ordered.reviews:[],dataCity:{valueCity:i.valueCity,nameCity:i.nameCity}}}),(function(e){return{getRandomBar:function(t){return e(Ee(t))},savePromocode:function(t,n){return e(R(t,n))},saveWinningPromocodeInStore:function(t){return e(function(e){return function(t){t({type:U,payload:e})}}(t))},changeCity:function(t,n){return e(v(t,n))}}})))(Re),Te=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.location,a=e.bars,i=e.history,c=e.reviews,r=a&&a[n.state.barId]?a[n.state.barId]:{};return Object(W.jsx)(ye,{isAuth:!!t.uid,code:n.state.code,qrCode:n.state.qrCode,endWorkTime:Z(r)?"":r.end_work_time,address:Z(r)?"":r.address,geo:Z(r)?null:r.geo,name:Z(r)?"":r.name,prize:n.state.prize,urlImage:n.state.imageUrl,backToStartScreen:function(){return i.goBack()},reviews:c,barId:n.state.barId})}}]),n}(a.Component),Fe=Object(G.d)(Object(M.firestoreConnect)((function(e){var t=e.location.state.barId;return[{collection:"bars",doc:t},{collection:"reviews",doc:t}]})),Object(d.b)((function(e){var t=e.firebase,n=e.firestore;return{auth:t.auth,bars:n.data.bars,reviews:n.ordered.reviews?n.ordered.reviews:[]}})))(Object(j.f)(Te)),Me=n(74),ze=n(379),We=Object(ze.withNaming)({n:"",e:"__",m:"--",v:"_"}),He=We("sign"),Pe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.link,a=e.title;return Object(W.jsxs)("main",{className:He(),children:[Object(W.jsxs)("svg",{className:He("bg",{top:!0}),width:"353",height:"202",viewBox:"0 0 353 202",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(W.jsx)("g",{clipPath:"url(#clip0)",children:Object(W.jsx)("path",{d:"M5.58143 186.402C-16.7847 207.411 -42.623 207.145 -52.7464 204.386L-155.265 132.124L8.44741 -126.602L371.796 -86.1431C389.379 -90.0134 418.431 -86.5454 393.968 -41.7113C363.389 14.3314 212.039 12.1655 119.967 39.6799C27.8952 67.1944 33.5391 160.141 5.58143 186.402Z",fill:"url(#paint0_linear)",stroke:"#21372A",strokeWidth:"10"})}),Object(W.jsxs)("defs",{children:[Object(W.jsxs)("linearGradient",{id:"paint0_linear",x1:"-108.245",y1:"-131.207",x2:"373.566",y2:"209.205",gradientUnits:"userSpaceOnUse",children:[Object(W.jsx)("stop",{stopColor:"#09C883"}),Object(W.jsx)("stop",{offset:"1",stopColor:"#086A29"})]}),Object(W.jsx)("clipPath",{id:"clip0",children:Object(W.jsx)("rect",{width:"353",height:"202",fill:"white"})})]})]}),Object(W.jsx)(A.a,{to:n.to,className:He("switchPageBtn"),children:n.text}),Object(W.jsx)("h1",{className:He("heading"),children:a}),t,Object(W.jsx)(A.a,{className:He("backLink"),to:"/",children:"\u041d\u0430\u0437\u0430\u0434"}),Object(W.jsxs)("svg",{className:He("bg",{bottom:!0}),width:"280",height:"173",viewBox:"0 0 280 173",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(W.jsx)("g",{clipPath:"url(#clip0)",children:Object(W.jsx)("path",{d:"M118.5 141.5C0.5 158 4.5 173.5 -10 225V254H301.5V7C289.833 8.83333 263.9 17.8 253.5 39C240.5 65.5 236.5 125 118.5 141.5Z",fill:"url(#paint0_linear)",stroke:"#21372A",strokeWidth:"10"})}),Object(W.jsxs)("defs",{children:[Object(W.jsxs)("linearGradient",{id:"paint0_linear",x1:"0.279499",y1:"14.9589",x2:"329.654",y2:"160.601",gradientUnits:"userSpaceOnUse",children:[Object(W.jsx)("stop",{stopColor:"#09C883"}),Object(W.jsx)("stop",{offset:"1",stopColor:"#086A29"})]}),Object(W.jsx)("clipPath",{id:"clip0",children:Object(W.jsx)("rect",{width:"280",height:"173",fill:"white"})})]})]})]})}}]),n}(a.Component),Le=(n(620),We("sign")),Ge=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(Me.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(W.jsx)(Pe,{link:{to:"/signin",text:"\u0412\u0445\u043e\u0434"},title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",children:Object(W.jsxs)("form",{onSubmit:this.handleSubmit,className:Le("form"),children:[Object(W.jsxs)("div",{className:Le("inputGroup"),children:[Object(W.jsx)("input",{className:Le("input"),placeholder:"\u041f\u043e\u0447\u0442\u0430",type:"email",id:"email",onChange:this.handleChange}),Object(W.jsx)("input",{className:Le("input"),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",onChange:this.handleChange}),Object(W.jsx)("input",{className:Le("input"),placeholder:"\u0418\u043c\u044f",type:"text",id:"firstName",onChange:this.handleChange}),Object(W.jsx)("input",{className:Le("input"),placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",type:"text",id:"lastName",onChange:this.handleChange})]}),Object(W.jsx)("button",{type:"submit",className:Le("goBtn"),children:Object(W.jsx)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(W.jsx)("path",{d:"M22 0C9.84995 0 0 9.84995 0 22C0 34.15 9.84995 44 22 44C34.15 44 44 34.15 44 22C44 9.84995 34.15 0 22 0ZM19.5563 10.8953L36.2145 22L19.5563 33.1047V27.1215H7.78554V16.8791H19.5563V10.8953Z",fill:"black"})})})]})})}}]),n}(a.Component),qe=Object(d.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,n,a){var i=a.getFirebase,c=a.getFirestore,r=i(),s=c();r.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(a){var i=n().promocodes.promocodeWon;Z(i)||t(R(a.user.uid,i));var c={name:n().users.nameCity,name_id:n().users.valueCity};return s.collection("users").doc(a.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:"".concat(e.firstName[0]).concat(e.lastName[0]),default_city:c,photo:null,role:"user"})})).then((function(){t({type:Y}),p.push("/")})).catch((function(e){t({type:J,payload:e}),alert("\u041e\u0448\u0438\u0431\u043a\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}}(t))}}}))(Ge),Ze=(n(621),We("sign")),Xe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(Me.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(s.a)(n,[{key:"render",value:function(){return console.log(this.props.authError),Object(W.jsx)(Pe,{link:{to:"/signup",text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},title:"\u0412\u0445\u043e\u0434",children:Object(W.jsx)(a.Fragment,{children:Object(W.jsxs)("form",{onSubmit:this.handleSubmit,className:Ze("form"),children:[Object(W.jsxs)("div",{className:Ze("inputGroup"),children:[Object(W.jsx)("input",{className:Ze("input"),type:"email",id:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430",onChange:this.handleChange}),Object(W.jsx)("input",{className:Ze("input"),type:"password",id:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:this.handleChange})]}),Object(W.jsx)("button",{type:"submit",className:Ze("goBtn"),children:Object(W.jsx)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(W.jsx)("path",{d:"M22 0C9.84995 0 0 9.84995 0 22C0 34.15 9.84995 44 22 44C34.15 44 44 34.15 44 22C44 9.84995 34.15 0 22 0ZM19.5563 10.8953L36.2145 22L19.5563 33.1047V27.1215H7.78554V16.8791H19.5563V10.8953Z",fill:"black"})})})]})})})}}]),n}(a.Component),Qe=Object(d.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signIn:function(t){return e((n=t,function(e,t,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(n.email,n.password).then((function(n){e({type:X}),p.push("/");var a=t().promocodes.promocodeWon;Z(a)||e(R(n.user.uid,a))})).catch((function(t){e({type:Q,payload:t}),alert("\u041e\u0448\u0438\u0431\u043a\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))}));var n}}}))(Xe),Ve=n.p+"static/media/phones.1932ce3a.png",Ye=n.p+"static/media/beercoin.a146507f.svg",Je=(n(622),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{className:"desktop-screen",children:Object(W.jsxs)("div",{className:"desktop-screen__center",children:[Object(W.jsx)("img",{className:"desktop-screen__logo-main",src:Ye,alt:"BeerCoin"}),Object(W.jsx)("div",{className:"desktop-screen__left",children:Object(W.jsx)("img",{className:"desktop-screen__img",src:Ve,alt:""})}),Object(W.jsxs)("div",{className:"desktop-screen__right",children:[Object(W.jsx)("h1",{className:"desktop-screen__h1",children:"\u041f\u043e\u0434\u043a\u0438\u043d\u044c \u043c\u043e\u043d\u0435\u0442\u043a\u0443 \u0438 \u043f\u0435\u0439 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e!"}),Object(W.jsx)("h2",{className:"desktop-screen__h2",children:"\u0417\u0430\u043a\u0440\u0443\u0442\u0438 \u0441\u0432\u043e\u044e \u0443\u0434\u0430\u0447\u0443 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438 \u0441\u043a\u0438\u0434\u043a\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u043c \u0431\u0430\u0440\u0435."}),Object(W.jsx)("h3",{className:"desktop-screen__go-to",children:"\u041e\u0442\u043a\u0440\u043e\u0439 \u043d\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0435"})]})]})})})}}]),n}(a.Component)),Ke=(n(623),We("about")),$e=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.history;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:Ke("nav"),children:[Object(W.jsx)("div",{className:"b-coin-head__item",onClick:function(){return e.goBack()},children:Object(W.jsx)("div",{className:"b-coin-head__icon",children:Object(W.jsx)("img",{src:S,alt:""})})}),Object(W.jsx)("div",{className:"b-screen-bar__nav-tab-bar",children:Object(W.jsx)("h2",{className:Ke("title"),children:"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"})}),Object(W.jsx)("div",{className:"b-coin-head__item",children:Object(W.jsx)("div",{className:"b-coin-head__icon"})})]}),Object(W.jsxs)("div",{className:Ke("content"),children:[Object(W.jsx)("img",{className:Ke("logo"),src:Ye,alt:"BeerCoin"}),Object(W.jsx)("p",{className:Ke("version"),children:ee}),Object(W.jsx)("p",{className:Ke("slogan"),children:"BeerCoin - \u041f\u043e\u0437\u0432\u043e\u043b\u044c \u043c\u043e\u043d\u0435\u0442\u043a\u0435 \u0440\u0435\u0448\u0438\u0442\u044c \u0437\u0430 \u0442\u0435\u0431\u044f"}),Object(W.jsx)("h2",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(W.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0441 \u0446\u0435\u043b\u044c\u044e \u043f\u043e\u043c\u043e\u0447\u044c \u0432\u0430\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441 \u0431\u0430\u0440\u043e\u043c \u0438\u043b\u0438 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0432 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u043c \u0433\u043e\u0440\u043e\u0434\u0435 \u0438\u043b\u0438 \u0440\u0430\u0439\u043e\u043d\u0435."}),Object(W.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0438"}),Object(W.jsxs)("p",{children:[Object(W.jsx)("a",{href:"https://www.instagram.com/amedomary2/",children:"\u041c\u0430\u043a\u0441\u0438\u043c"}),Object(W.jsx)("br",{}),Object(W.jsx)("a",{href:"https://www.instagram.com/vladka1233/",children:"\u0412\u043b\u0430\u0434"})]})]})]})}}]),n}(a.Component),et=(n(624),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={isStopFlipping:!1,showBar:!1},e.stopFlipping=function(){e.setState({isStopFlipping:!0})},e.backToStartScreen=function(){e.setState({isStopFlipping:!1,showBar:!1})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){this.props.auth.isEmpty||!this.props.userData.length||e.userData||this.props.changeCity(this.props.userData[0].default_city.name,this.props.userData[0].default_city.name_id)}},{key:"render",value:function(){var e=this,t=this.props.auth,n=this.state,i=n.isStopFlipping,c=n.showBar;return console.log(t),Object(W.jsx)(j.b,{history:p,children:Object(W.jsx)("div",{className:"App",children:h.isMobile?Object(W.jsxs)(j.c,{children:[Object(W.jsx)(j.a,{exact:!0,path:"/",children:Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(b.a,{unmountOnExit:!0,in:!i,timeout:500,classNames:"b-screen",onExited:function(){return e.setState({showBar:!0})},children:Object(W.jsx)(a.Fragment,{children:Object(W.jsx)(ae,{stopFlipping:this.stopFlipping})})}),Object(W.jsx)(De,{showBar:c,backToStartScreen:this.backToStartScreen})]})}),Object(W.jsx)(j.a,{path:"/signup",component:qe}),Object(W.jsx)(j.a,{path:"/signin",component:Qe}),Object(W.jsx)(j.a,{path:"/promocode/:id",component:Fe}),Object(W.jsx)(j.a,{path:"/about",component:$e})]}):Object(W.jsx)(Je,{})})})}}]),n}(a.Component)),tt=Object(d.b)((function(e){var t=e.firebase,n=e.firestore;return{auth:t.auth,userData:!!n.ordered.users&&!!n.ordered.users.length&&n.ordered.users.filter((function(e){return t.auth.uid===e.id}))}}),(function(e){return{changeCity:function(t,n){return e(v(t,n))}}}))(et);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=n(380),at=n(137),it=n(138);n(794),n(787),n(789),n(795);it.initializeApp({apiKey:"AIzaSyDaLdkt15q132Hb88jIVYYPOrfnUaBJHv8",authDomain:"beercoin12.firebaseapp.com",databaseURL:"https://beercoin12.firebaseio.com",projectId:"beercoin12",storageBucket:"beercoin12.appspot.com",messagingSenderId:"127473982008",appId:"1:127473982008:web:4b5d01f7d85f7f477c24cd",measurementId:"G-RM52L3SW37"}),it.firestore().settings({timestampsInSnapshots:!0});var ct=it;var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.c)({promocodes:F,auth:$,bars:Be,users:x,firestore:at.firestoreReducer,firebase:M.firebaseReducer});return Object(G.e)(t,e,Object(G.d)(Object(G.a)(nt.a.withExtraArgument({getFirebase:M.getFirebase,getFirestore:at.getFirestore})),Object(M.reactReduxFirebase)(ct,{attachAuthIsReady:!0}),Object(at.reduxFirestore)(ct),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))}();rt.firebaseAuthIsReady.then((function(){c.a.render(Object(W.jsx)(d.a,{store:rt,children:Object(W.jsx)(tt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}))}},[[793,1,2]]]);
//# sourceMappingURL=main.9bf88c9f.chunk.js.map