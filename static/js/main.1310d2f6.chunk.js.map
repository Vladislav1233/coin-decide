{"version":3,"sources":["images/arrow-side.svg","images/coin-v.mp4","images/setting.svg","images/list.svg","images/swipe.svg","images/check-circle.svg","images/sale-icon/beer.svg","images/qr-code.png","images/taxi.svg","images/plug-for-bar.jpg","images/phones.png","images/LogoNew.svg","images/logo.png","helpers/history.js","helpers/defineCity.js","store/users.js","store/promocodes.js","components/PromocodeList/PromocodeItem.js","components/PromocodeList/index.js","components/SettingList/SettingItem.js","helpers/isEmptyObj.js","store/auth.js","components/SettingList/index.js","components/ScreenCoin/index.js","components/Sale/index.js","components/Card/index.js","components/TabBar/index.js","components/ArrowTo/index.js","components/Code/index.js","components/YMap/index.js","components/TaxiButton/index.js","components/Badge/index.js","components/Rating/index.js","components/Avatar/index.js","components/Review/index.js","components/ScreenBar/ScreenBar.js","helpers/randomInteger.js","helpers/getRandomObjectKey.js","store/bars.js","components/ScreenBar/ScreenBarCreate.container.js","components/ScreenBar/ScreenBarGet.container.js","config/bem.js","components/AuthFormUi/index.js","components/SignUp/index.js","components/SignIn/index.js","components/DesktopScreen/index.js","config/firebaseConfig.js","components/Admin/index.js","store/admin.js","App.js","serviceWorker.js","index.js","store/rootReducer.js"],"names":["module","exports","__webpack_require__","p","history","createBrowserHistory","defineCity","latitude","longitude","defaultDataCity","name","name_id","fetch","concat","headers","Accept","Authorization","then","res","json","console","log","length","suggestions","data","city","changeCity","nameId","dispatch","getState","_ref","firestore","getFirestore","state","firebase","auth","uid","update","collection","doc","default_city","type","payload","nameCity","valueCity","initialState","users","arguments","undefined","action","Object","objectSpread2","savePromocode","userUID","promocodeData","_ref2","getFirebase","add","subcollections","clearWonPromocode","promocodesForUser","promocodeWon","store_promocodes","PromocodeItem","imageUrl","_this2","this","storage","ref","child","props","photo","getDownloadURL","url","setState","err","_this$props","name_bar","prize","is_check","duration_action","id","bar_id","code","qr_code","react_default","a","createElement","react_router_dom","to","pathname","barId","qrCode","className","style","backgroundImage","src","checkCircle","alt","description","Component","PromocodeList","getPromocodesForUser","promocodes","map","promocode","index","key","PromocodeList_PromocodeItem","expires","connect","uidUser","get","ordered","content","SettingItem","handleChange","event","value","target","nativeEvent","selectedIndex","_this","text","head","select","title","additional","item","link","onClick","href","onChange","isEmptyObj","obj","keys","authError","message","SettingList","signOut","userData","SettingList_SettingItem","firstName","lastName","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","compose","filter","catch","alert","firestoreConnect","ScreenCoin","flipEnded","isCoinToss","nextSlide","slider","slickNext","previousSlide","slickPrev","onSwipedUp","player","play","subscribeToStateChange","handleStateChange","bind","pause","prevState","ended","stopFlipping","lib_default","assign","c","dots","infinity","adaptiveHeight","initialSlide","arrows","fade","slidesToShow","slidesToScroll","arrowSideIcon","components_SettingList","settingIcon","list","react_swipeable_es","preventDefaultTouchmoveEvent","swipeImg","video_react_lib","fluid","playsInline","preload","v","disableCompletely","components_PromocodeList","Sale","imgSrc","Card","endWorkTime","address","descriptionSale","urlImage","components_Sale","TabBar","activeIndex","handleActiveIndexUpdate","getTabIndex","tabs","react_tab_bar_dist_default","dist_default","ArrowTo","Code","isAuth","qrImage","defaultProps","YMap","geo","react_yandex_maps_esm","defaultState","center","zoom","geometry","TaxiButton","taxiIcon","Badge","children","Rating","number","maxRate","toConsumableArray","Array","rateNumber","Avatar","Review","reviews","review","find","currDate","Date","components_Badge","final_grade","components_Avatar","author","components_Rating","Math","trunc","rate","_date","setTime","_month","getMonth","getDate","getFullYear","getDateFormat","date","seconds","ScreenBar","tabIndex","backToStartScreen","contentBar","react","components_Card","marginTop","src_components_Code","src_components_ArrowTo","src_components_TabBar","components_Review","components_YMap","components_TaxiButton","randomInteger","max","min","rand","random","floor","getRandomObjectKey","getRandomBar","barsId","bars_id","targetBarId","getImageForThisBar","imagePath","plugForPicture","targetBar","bars","tarItem","available_prizes","availablePrizes","prizeId","typePrize","split","getBar","barImageUrl","ScreenBarCreate","navigator","geolocation","getCurrentPosition","pos","coords","prevProps","showBar","bar","saveWinningPromocodeInStore","dataCity","_this$props2","isArray","CSSTransition","unmountOnExit","in","timeout","classNames","components_ScreenBar_ScreenBar","end_work_time","query","push","unique_prizes","ScreenBarGet","location","barInfo","goBack","withRouter","bem","withNaming","n","e","m","bemClass","AuthFormUi","top","clipPath","stroke","strokeWidth","x1","y1","x2","y2","gradientUnits","stopColor","offset","bottom","SignUp","email","password","defineProperty","handleSubmit","preventDefault","signUp","components_AuthFormUi","onSubmit","placeholder","newUser","_ref3","createUserWithEmailAndPassword","resp","user","defaultCity","set","initials","SignIn","signIn","creds","credentials","signInWithEmailAndPassword","DesktopScreen","Fragment","logoNew","phoneImg","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","settings","timestampsInSnapshots","Admin","addBar_id","addBar_address","addBar_end_work_time","addBar_latitude","addBar_longtitude","addBar_name","addBar_photo","addBar_city","addBar_id_city","addBar","addBarAdmin","GeoPoint","addBarIdAdmin","handleInputChange","checked","stateBarsId","dataQuery","App","isStopFlipping","isEmpty","_this3","_this$state","react_router","isMobile","exact","path","onExited","components_ScreenCoin","ScreenBarCreate_container","component","components_DesktopScreen","Boolean","window","hostname","match","store","rootReducer","combineReducers","firestoreReducer","firebaseReducer","createStore","applyMiddleware","thunkMiddleware","withExtraArgument","reactReduxFirebase","firebaseConfig","attachAuthIsReady","reduxFirestore","firebaseAuthIsReady","ReactDOM","render","es","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1310d2f6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/arrow-side.62ddfa37.svg\";","module.exports = __webpack_public_path__ + \"static/media/coin-v.c9f2678a.mp4\";","module.exports = __webpack_public_path__ + \"static/media/setting.a33d9333.svg\";","module.exports = __webpack_public_path__ + \"static/media/list.d1a23cee.svg\";","module.exports = __webpack_public_path__ + \"static/media/swipe.a316d86e.svg\";","module.exports = __webpack_public_path__ + \"static/media/check-circle.15ee7bc4.svg\";","module.exports = __webpack_public_path__ + \"static/media/beer.296e7a16.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/taxi.08eb5de9.svg\";","module.exports = __webpack_public_path__ + \"static/media/plug-for-bar.740a0b14.jpg\";","module.exports = __webpack_public_path__ + \"static/media/phones.8506d38a.png\";","module.exports = __webpack_public_path__ + \"static/media/LogoNew.17f69ab7.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.0cf28634.png\";","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","const defineCity = (latitude, longitude) => {\n  const defaultDataCity = {\n    name: 'Москва',\n    name_id: 'moscow'\n  };\n\n  return fetch(`https://suggestions.dadata.ru/suggestions/api/4_1/rs/geolocate/address?lat=${latitude}&lon=${longitude}`, {\n    headers: {\n      Accept: 'application/json',\n      Authorization: 'Token 5e22eb1e41d4a638fde5e97b229881d65e6f23f2'\n    }\n  }).then(res => {\n    return res.json();\n  }).then(res => {\n    console.log(res)\n    if(!!res.length) {\n      switch (res.suggestions[0].data.city) {\n        case 'Ульяновск':\n          return {\n            name: 'Ульяновск',\n            name_id: 'ulyanovsk'\n          }\n\n        default:\n          return defaultDataCity\n      }\n    } else {\n      return defaultDataCity\n    }\n  })\n};\n\nexport default defineCity;\n","// Note: Variables\nconst CHANGE_CITY_START = 'CHANGE_CITY_START',\n      CHANGE_CITY_SUCCESS = 'CHANGE_CITY_SUCCESS',\n      CHANGE_CITY_ERROR = 'CHANGE_CITY_ERROR';\n\n// Note: actions\n\n// Note: меняем город в настройках и переписываем в базе.\nexport const changeCity = (name, nameId) => {\n  return (dispatch, getState, { getFirestore }) => {\n    const firestore = getFirestore();\n    const state = getState();\n\n    if(state.firebase.auth.uid) {\n      firestore.update({\n        collection: 'users',\n        doc: state.firebase.auth.uid\n      }, {\n        default_city: {\n          name: name,\n          name_id: nameId\n        }\n      });\n    }\n\n    dispatch({\n      type: CHANGE_CITY_SUCCESS,\n      payload: {\n        nameCity: name,\n        valueCity: nameId\n      }\n    });\n  };\n};\n\n// Note: reducer\nconst initialState = {\n  nameCity: '',\n  valueCity: ''\n};\n\nconst users = (state = initialState, action) => {\n  switch (action.type) {\n\n    case CHANGE_CITY_SUCCESS:\n      return {\n        ...state,\n        nameCity: action.payload.nameCity,\n        valueCity: action.payload.valueCity\n      }\n\n    default:\n      return state\n  }\n};\n\nexport default users;","// Note: Variables\nconst GET_PROMOCODES_FOR_USER_SUCCESS = 'GET_PROMOCODES_FOR_USER_SUCCESS',\n      GET_PROMOCODES_FOR_USER_ERROR = 'GET_PROMOCODES_FOR_USER_ERROR';\n\nconst GET_PROMOCODES_BAR_IMAGE_SUCCESS = 'GET_PROMOCODES_BAR_IMAGE_SUCCESS';\n\nconst SAVE_WINNING_PROMOCODE_IN_STORE = 'SAVE_WINNING_PROMOCODE_IN_STORE',\n      CLEAR_WON_PROMOCODE = 'CLEAR_WON_PROMOCODE';\n\n// Note: Actions\n// Note: Получаем все промокоды юзера.\nexport const getPromocodesForUser = (uidUser) => {\n  // ref documentation https://github.com/prescottprue/redux-firestore#query-options%23query-options\n  return (dispatch, getState, { getFirestore, getFirebase }) => {\n    const firestore = getFirestore();\n\n    firestore.get({\n      collection: 'promocodes',\n      doc: uidUser,\n      subcollections: [{ collection: 'content'}]\n    }).then(\n      () => {\n        const promocodes = getState().firestore.ordered.promocodes[0].content;\n\n        dispatch({\n          type: GET_PROMOCODES_FOR_USER_SUCCESS,\n          payload: promocodes\n        });\n      },\n      err => {\n        console.log(err);\n      }\n    )\n  }\n};\n\n// Note: Сохраняем в базу выпавший промокод юзеру.\nexport const savePromocode = (userUID, promocodeData) => {\n  return (dispatch, getState, { getFirestore, getFirebase }) => {\n    const firestore = getFirestore();\n\n    firestore.add({\n      collection: 'promocodes',\n      doc: userUID,\n      subcollections: [{ collection: 'content'}]\n    },\n      promocodeData\n    ).then(() => {\n      clearWonPromocode();\n    });\n  }\n};\n\n// Note: Сохраняем в store выпавший промокод юзеру. Храним в store чтобы при авторизации отправить данные в базу.\nexport const saveWinningPromocodeInStore = (data) => {\n  return (dispatch) => {\n    dispatch({\n      type: SAVE_WINNING_PROMOCODE_IN_STORE,\n      payload: data\n    })\n  }\n}\n\nexport const clearWonPromocode = () => dispatch => { dispatch({\n  type: CLEAR_WON_PROMOCODE\n})}\n\n//Note: Reducers\nconst initialState = {\n  promocodesForUser: [], // Note: все промокоды пользователя пришедшие из базы.\n  promocodeWon: {}  // Note: Промокод который попался неавторизованному пользователю.\n                    // Храним в store чтобы при авторизации отправить данные в базу.\n}\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_PROMOCODES_FOR_USER_SUCCESS:\n      return {\n        ...state,\n        promocodesForUser: action.payload\n      }\n\n    case SAVE_WINNING_PROMOCODE_IN_STORE:\n        return {\n          ...state,\n          promocodeWon: action.payload\n        }\n\n    case CLEAR_WON_PROMOCODE:\n      return {\n        ...state,\n        promocodeWon: {}\n      }\n\n    default: {\n      return state;\n    }\n  }\n}","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getFirebase } from 'react-redux-firebase';\n\n// Note: images\nimport checkCircle from 'images/check-circle.svg';\n\n// Note: styles\nimport './promocode-item.scss';\n\nclass PromocodeItem extends Component {\n\n  state = {\n    imageUrl: ''\n  }\n\n  componentDidMount() {\n    const storageRef = getFirebase().storage().ref();\n    const barImageRef = storageRef.child(this.props.photo);\n\n    barImageRef.getDownloadURL()\n      .then((url) => {\n        this.setState({\n          imageUrl: url\n        })\n      }, err => {\n        console.log('Promocode Item Error Download Image')\n      })\n  }\n\n  render() {\n    const {\n      name_bar,\n      prize,\n      is_check,\n      duration_action,\n      id,\n      bar_id,\n      code,\n      qr_code\n    } = this.props;\n\n    const { imageUrl } = this.state;\n\n    return(\n      <Link\n        to={{\n          pathname: `/promocode/${id}`,\n          state: {\n            barId: bar_id,\n            code: code,\n            qrCode: qr_code,\n            prize: prize,\n            imageUrl: imageUrl\n          }\n        }}\n        className=\"b-promocode-item\" \n        style={{ backgroundImage: `url(${imageUrl})` }}\n      >\n        {is_check &&\n          <div className=\"b-promocode-item__check-wrapper\">\n            <img src={checkCircle} alt=\"\" />\n          </div>\n        }\n\n        <div className=\"b-promocode-item__head\">\n          <div className=\"b-promocode-item__name-place\">\n            {name_bar}\n          </div>\n          <div className=\"b-promocode-item__name-prize\">\n            {prize.description}\n          </div>\n        </div>\n\n        <div className=\"b-promocode-item__footer\">\n          <div className=\"b-promocode-item__date\">\n            {/* TODO */}\n            Действует до {duration_action}\n          </div>\n        </div>\n      </Link>\n    )\n  }\n}\n\nexport default PromocodeItem;","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n// Note: actions\nimport { getPromocodesForUser } from 'store/promocodes';\n\n// Note: Components\nimport PromocodeItem from './PromocodeItem';\n\n// Note: styles\nimport './style.scss';\n\nclass PromocodeList extends Component {\n\n  componentDidMount() {\n    if(this.props.auth.uid) {\n      this.props.getPromocodesForUser(this.props.auth.uid);\n    }\n  }\n\n  render() {\n    const { auth, promocodes } = this.props;\n\n    return(\n      <ul className=\"b-promocode-list\">\n        {!!auth.uid\n          ? promocodes && promocodes.length > 0\n            ? promocodes.map((promocode, index) => {\n              return <li key={index} className=\"b-promocode-list__item\">\n                <PromocodeItem\n                  name_bar={promocode.name_bar}\n                  prize={promocode.prize}\n                  is_check={promocode.is_check}\n                  duration_action={promocode.prize.expires}\n                  id={promocode.id}\n                  bar_id={promocode.bar_id}\n                  code={promocode.code}\n                  qr_code={promocode.qr_code}\n                  photo={promocode.photo}\n                />\n              </li>\n            }) : <li className=\"b-promocode-list__empty\">У вас ещё нет промокодов. Бросьте монетку, чтобы выиграть скидку в баре.</li>\n\n          : <li className=\"b-promocode-list__registration\">\n            <Link to='/signin'>Войдите</Link>\n            <div className=\"b-promocode-list__help\">чтобы видеть все свои промокоды</div>\n          </li>\n        }\n      </ul>\n    )\n  }\n}\n\nconst mapStateToProps = ({ firebase, promocodes }) => {\n  return {\n    promocodes: promocodes.promocodesForUser,\n    auth: firebase.auth\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getPromocodesForUser: (uidUser) => dispatch(getPromocodesForUser(uidUser))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PromocodeList);","import React, { Component } from 'react';\n\nclass SettingItem extends Component {\n\n  handleChange = (event) => {\n    const { value } = event.target;\n    const index = event.nativeEvent.target.selectedIndex;\n\n    this.props.changeCity(event.nativeEvent.target[index].text, value);\n  }\n\n  render() {\n    const { head, content, select, valueCity } = this.props;\n\n    return (\n      <div className=\"b-setting-list__item\">\n        { !!head &&\n          <div className=\"b-setting-list__head\">\n            { !!head.title && <div className=\"b-setting-list__title\">{ head.title }</div> }\n            { !!head.additional && <div className=\"b-setting-list__additional-title\">{ head.additional }</div> }\n          </div>\n        }\n        { !!content && !!content.length &&\n          content.map((item, index) => (\n            !!item.name || !!item.link\n              ? <div key={ `settingContent-${index}` } className=\"b-setting-list__content\" onClick={ item.onClick ? item.onClick : () => { } }>\n                { !!item.name && <div className=\"b-setting-list__name\">{ item.name }</div> }\n                { !!item.link && <a href={item.href} className=\"b-setting-list__name b-setting-list__name--link\">{ item.link }</a> }\n                { !!item.description && <div className=\"b-setting-list__description\">{ item.description }</div> }\n              </div>\n              : null\n          ))\n        }\n        { !!select &&\n          <div className=\"b-setting-list__content\">\n            <select name='valueCity' value={ valueCity } className=\"b-setting-list__name b-setting-list__name--select\" onChange={ this.handleChange }>\n              <option value=\"ulyanovsk\">Ульяновск</option>\n              {/* <option value=\"kharkov\">Харьков</option> */ }\n              <option value=\"moscow\">Москва</option>\n              <option value=\"saint_petersburg\">Санкт-Петербург</option>\n            </select>\n            { !!select.description && <div className=\"b-setting-list__description\">{ select.description }</div> }\n          </div>\n        }\n      </div>\n    )\n  };\n}\n\nexport default SettingItem;","const isEmptyObj = (obj) => (\n  Object.keys(obj).length == 0\n);\n\nexport default isEmptyObj;","import { savePromocode } from 'store/promocodes';\nimport isEmptyObj from 'helpers/isEmptyObj';\nimport { history } from \"helpers/history\";\n\n// Note: variables\nconst   // LOGIN_START = 'LOGIN_START',\n        LOGIN_SUCCESS = 'LOGIN_SUCCESS',\n        LOGIN_ERROR = 'LOGIN_ERROR',\n\n        LOGOUT_SUCCESS = 'LOGOUT_SUCCESS',\n        LOGOUT_ERROR = 'LOGOUT_ERROR',\n\n        SIGNUP_SUCCESS = 'SIGNUP_SUCCESS',\n        SIGNUP_ERROR = 'SIGNUP_ERROR';\n\n// Note: actions\nexport const signIn = (credentials) => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n\n    firebase.auth().signInWithEmailAndPassword(\n      credentials.email,\n      credentials.password\n    ).then((res) => {\n      dispatch({\n        type: LOGIN_SUCCESS\n      });\n\n      history.push('/');\n\n      // Note: Сохраняем выпавший неавторизованному юзеру промокод в базу.\n      const promocodeWon = getState().promocodes.promocodeWon;\n      if(!isEmptyObj(promocodeWon)) {\n        dispatch(savePromocode(res.user.uid, promocodeWon));\n      };\n    }).catch((err) => {\n      dispatch({\n        type: LOGIN_ERROR,\n        payload: err\n      })\n      alert('Ошибка, что-то пошло не так');\n    })\n  }\n};\n\nexport const signOut = () => {\n  return (dispatch, getState, { getFirebase }) => {\n    const firebase = getFirebase();\n\n    firebase.auth().signOut().then(() => {\n      dispatch({\n        type: LOGOUT_SUCCESS\n      })\n    }).catch(err => {\n      dispatch({\n        type: LOGOUT_ERROR\n      })\n      alert('Ошибка, что-то пошло не так');\n    })\n  }\n};\n\nexport const signUp = (newUser) => {\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\n    const firebase = getFirebase();\n    const firestore = getFirestore();\n\n    firebase.auth().createUserWithEmailAndPassword(\n      newUser.email,\n      newUser.password\n    ).then((resp) => {\n      // Note: Сохраняем выпавший неавторизованному юзеру промокод в базу.\n      const promocodeWon = getState().promocodes.promocodeWon;\n      if(!isEmptyObj(promocodeWon)) {\n        dispatch(savePromocode(resp.user.uid, promocodeWon));\n      };\n\n      // Note: Записываем юзера в database\n      const defaultCity = {\n        name: getState().users.nameCity,\n        name_id: getState().users.valueCity\n      };\n      return firestore.collection('users').doc(resp.user.uid).set({\n        firstName: newUser.firstName,\n        lastName: newUser.lastName,\n        initials: `${newUser.firstName[0]}${newUser.lastName[0]}`,\n        default_city: defaultCity,\n        photo: null // TODO\n      });\n    }).then(() => {\n      dispatch({\n        type: SIGNUP_SUCCESS\n      });\n      history.push('/');\n    }).catch((err) => {\n      dispatch({\n        type: SIGNUP_ERROR,\n        payload: err\n      })\n      alert('Ошибка, что-то пошло не так');\n    })\n  }\n}\n\n// Note: reducer\nconst initialState = {\n  authError: null\n};\n\nconst auth = (state = initialState, action) => {\n  switch(action.type) {\n    case LOGIN_ERROR: {\n      return {\n        ...state,\n        authError: action.payload\n      }\n    }\n\n    case LOGIN_SUCCESS: {\n      return {\n        ...state,\n        authError: null\n      }\n    }\n\n    case LOGOUT_SUCCESS: {\n      return {\n        ...state,\n        authError: null\n      }\n    }\n\n    case SIGNUP_SUCCESS: {\n      console.log('SIGNUP_SUCCESS');\n      return {\n        ...state,\n        authError: null\n      }\n    }\n\n    case SIGNUP_ERROR: {\n      console.log('SIGNUP_ERROR');\n      console.log(action.payload.message);\n      return {\n        ...state,\n        authError: action.payload.message\n      }\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default auth;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { firestoreConnect } from \"react-redux-firebase\";\nimport { compose } from \"redux\";\n\n// Note: components\nimport SettingItem from \"components/SettingList/SettingItem\";\n\n// Note: actions\nimport { signOut } from \"store/auth\";\nimport { changeCity } from \"store/users\";\n\n// Note: style\nimport \"./style.scss\";\n\nclass SettingList extends Component {\n  render() {\n    const { auth, signOut, userData, changeCity, valueCity } = this.props;\n\n    return (\n      <div className=\"b-setting-list\">\n        {!!auth.uid && (\n          <SettingItem\n            head={{\n              title: \"Аккаунт\"\n            }}\n            content={[\n              {\n                name: `${!!userData.length ? userData[0].firstName : \"\"} ${\n                  !!userData.length ? userData[0].lastName : \"\"\n                }`,\n                description: \"Изменить имя\"\n              }\n            ]}\n          />\n        )}\n\n        <SettingItem\n          head={{\n            title: \"Основное\"\n          }}\n          // content={[{\n          //   name:`${!!auth.uid ? '+7 (902) 009-09-09' : ''}`,\n          //   description:`${!!auth.uid ? 'Tap to change your phone number' : ''}`\n          // }]} // TODO: интегрировать номер телефона для зареганого юзера.\n          select={{\n            description: \"Изменить город\"\n          }}\n          changeCity={changeCity}\n          valueCity={valueCity}\n        />\n\n        <SettingItem\n          head={{\n            title: \"О приложении\",\n            additional: \"v0.2.56 beta\"\n          }}\n          content={[\n            {\n              name: \"Как это работает?\",\n              description: \"Информация о приложении\"\n            },\n            {\n              name: \"Список баров\",\n              description: \"Посмотреть бары учавствующие в игре\"\n            },\n            {\n              link: \"Написать нам\",\n              href: \"mailto:iamed73@yandex.ru\",\n              description: \"iAmed73@yandex.ru\"\n            }\n          ]}\n        />\n        {auth.uid ? (\n          <button className=\"b-setting-list__logout\" onClick={signOut}>\n            <svg\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H9C9.55228 20 10 20.4477 10 21C10 21.5523 9.55228 22 9 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7957 2 19V5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2H9C9.55228 2 10 2.44772 10 3C10 3.55228 9.55228 4 9 4H5Z\"\n                fill=\"#96A491\"\n              />\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M15.2929 6.29289C15.6834 5.90237 16.3166 5.90237 16.7071 6.29289L21.7071 11.2929C22.0976 11.6834 22.0976 12.3166 21.7071 12.7071L16.7071 17.7071C16.3166 18.0976 15.6834 18.0976 15.2929 17.7071C14.9024 17.3166 14.9024 16.6834 15.2929 16.2929L19.5858 12L15.2929 7.70711C14.9024 7.31658 14.9024 6.68342 15.2929 6.29289Z\"\n                fill=\"#96A491\"\n              />\n              <path\n                fillRule=\"evenodd\"\n                clipRule=\"evenodd\"\n                d=\"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z\"\n                fill=\"#96A491\"\n              />\n            </svg>\n\n            <span>Выйти из профиля</span>\n          </button>\n        ) : (\n          <div className=\"b-setting-list__registration\">\n            <Link to=\"/signin\">Войти</Link>\n          </div>\n        )\n\n        // : <Link to=\"/signin\" className=\"b-setting-list__logout\">\n        //   <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        //     <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H9C9.55228 20 10 20.4477 10 21C10 21.5523 9.55228 22 9 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7957 2 19V5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2H9C9.55228 2 10 2.44772 10 3C10 3.55228 9.55228 4 9 4H5Z\" fill=\"#96A491\"/>\n        //     <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15.2929 6.29289C15.6834 5.90237 16.3166 5.90237 16.7071 6.29289L21.7071 11.2929C22.0976 11.6834 22.0976 12.3166 21.7071 12.7071L16.7071 17.7071C16.3166 18.0976 15.6834 18.0976 15.2929 17.7071C14.9024 17.3166 14.9024 16.6834 15.2929 16.2929L19.5858 12L15.2929 7.70711C14.9024 7.31658 14.9024 6.68342 15.2929 6.29289Z\" fill=\"#96A491\"/>\n        //     <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z\" fill=\"#96A491\"/>\n        //   </svg>\n\n        //   <span>Войти</span>\n        // </Link>\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ firebase, firestore, users }) => {\n  return {\n    auth: firebase.auth,\n    userData:\n      !!firestore.ordered.users &&\n      !!firestore.ordered.users.length &&\n      firestore.ordered.users.filter(item => firebase.auth.uid === item.id),\n    valueCity: users.valueCity\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signOut: () => dispatch(signOut()),\n    changeCity: (name, nameId) => dispatch(changeCity(name, nameId))\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  firestoreConnect(props => [{ collection: \"users\", doc: props.auth.uid }])\n)(SettingList);\n","import React, { Component } from \"react\";\n// import { isMobileOnly } from 'react-device-detect';\nimport Slider from \"react-slick\";\nimport { Player, ControlBar } from \"video-react\";\nimport \"video-react/dist/video-react.css\";\nimport { Swipeable } from \"react-swipeable\";\n// import launchFlipCoin from 'helpers/launchFlipCoin';\n\n// Note: media\nimport v from \"images/coin-v.mp4\";\nimport settingIcon from \"images/setting.svg\";\nimport list from \"images/list.svg\";\nimport swipeImg from \"images/swipe.svg\";\nimport arrowSideIcon from \"images/arrow-side.svg\";\n\n// Note: components\nimport PromocodeList from \"components/PromocodeList\";\nimport SettingList from \"components/SettingList\";\n// import Button from 'components/Button';\n\nimport \"./style.scss\";\n\nclass ScreenCoin extends Component {\n  state = {\n    flipEnded: false,\n    isCoinToss: false\n  };\n\n  componentDidMount() {\n    // Note: subscribe state change on player\n    this.player.subscribeToStateChange(this.handleStateChange.bind(this));\n    this.player.play();\n    this.player.pause();\n  }\n\n  handleStateChange(state, prevState) {\n    if (state.ended) {\n      this.props.stopFlipping();\n    }\n  }\n\n  // TODO: shake событие\n  // onClickFlip = () => {\n  //   launchFlipCoin(10, -15, this.props.stopFlipping);\n  // }\n\n  nextSlide = () => {\n    this.slider.slickNext();\n  };\n\n  previousSlide = () => {\n    this.slider.slickPrev();\n  };\n\n  onSwipedUp = () => {\n    this.setState({\n      isCoinToss: true\n    });\n    this.player.play();\n  };\n\n  render() {\n    const { isCoinToss } = this.state;\n\n    const sliderSetting = {\n      dots: true,\n      infinity: false,\n      adaptiveHeight: true,\n      initialSlide: 1,\n      arrows: false,\n      fade: true, // TODO: Сделать не fade но чтобы запускалась монетка, а то неясно почему монетка не работает.\n      slidesToShow: 1,\n      slidesToScroll: 1\n    };\n\n    return (\n      <div className={ `b-screen-coin ${isCoinToss ? \"is-coin-toss\" : \"\"}` }>\n        <Slider ref={ c => (this.slider = c) } { ...sliderSetting }>\n          <div className=\"b-screen-coin__slide\">\n            <h2 className=\"b-screen-coin__title\">Настройки</h2>\n\n            <div className=\"b-coin-head\">\n              <div\n                className=\"b-coin-head__item b-coin-head__item--right\"\n                onClick={ this.nextSlide }\n              >\n                <div className=\"b-coin-head__icon b-coin-head__icon--right\">\n                  <img src={ arrowSideIcon } alt=\"\" />\n                </div>\n              </div>\n            </div>\n\n            <SettingList />\n          </div>\n\n          <div className=\"b-screen-coin__slide\">\n            <div className={ `b-coin-head ${isCoinToss ? \"is-hide\" : \"\"}` }>\n              <button\n                className=\"b-coin-head__item\"\n                type=\"button\"\n                onClick={ this.previousSlide }\n              >\n                <div className=\"b-coin-head__icon\">\n                  <img src={ settingIcon } alt=\"\" />\n                </div>\n                <span className=\"b-coin-head__btn-title\">Настройки</span>\n              </button>\n\n              <button\n                className=\"b-coin-head__item\"\n                type=\"button\"\n                onClick={ this.nextSlide }\n              >\n                <div className=\"b-coin-head__icon\">\n                  <img src={ list } alt=\"\" />\n                </div>\n                <span className=\"b-coin-head__btn-title\">Мои коды</span>\n              </button>\n            </div>\n\n            <Swipeable\n              className=\"b-screen-coin__swipeable\"\n              onSwipedUp={ this.onSwipedUp }\n              preventDefaultTouchmoveEvent={ true }\n            >\n              <div\n                className={ `b-screen-coin__control-image ${\n                  isCoinToss ? \"is-hide\" : \"\"\n                  }` }\n              >\n                <img src={ swipeImg } alt=\"\" />\n                <div></div>\n              </div>\n\n              <Player\n                ref={ player => {\n                  this.player = player;\n                } }\n                fluid={ false }\n                width=\"100%\"\n                height=\"100%\"\n                playsInline\n                type='video/mp4'\n                preload=\"auto\"\n                src={ v }\n              >\n                {/* <source src={v} /> */ }\n                <ControlBar disableCompletely={ true } />\n              </Player>\n            </Swipeable>\n          </div>\n\n          <div className=\"b-screen-coin__slide\">\n            <h2 className=\"b-screen-coin__title\">Мои промокоды</h2>\n\n            <div className=\"b-coin-head\">\n              <div className=\"b-coin-head__item\" onClick={ this.previousSlide }>\n                <div className=\"b-coin-head__icon\">\n                  <img src={ arrowSideIcon } alt=\"\" />\n                </div>\n              </div>\n            </div>\n\n            <PromocodeList />\n          </div>\n        </Slider>\n      </div>\n    );\n  }\n}\n\nexport default ScreenCoin;\n","import React, { Component } from 'react';\nimport './style.scss';\nimport imgSrc from 'images/sale-icon/beer.svg';\n\nclass Sale extends Component {\n  render() {\n    const { description } = this.props;\n\n    return(\n      <div className=\"b-sale\">\n        <div className=\"b-sale__info\">\n          <div className=\"b-sale__name\">{description}</div>\n          <div className=\"b-sale__type\">Приз</div>\n        </div>\n\n        <div className=\"b-sale__icon\">\n          {/* TODO: Интегрировать иконку. Должна быть икона общая для приза в случае если нет иконки в базе. */}\n          <img src={imgSrc} alt='Бокал пива' />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Sale;","import React, { Component } from 'react';\n\nimport Sale from 'components/Sale';\n\nimport './style.scss';\n\nclass Card extends Component {\n  render() {\n    const { endWorkTime, address, name, descriptionSale, urlImage } = this.props;\n\n    return(\n      <div className=\"b-card\">\n        <div className=\"b-card__wrapper\">\n          <div className=\"b-card__image-wrapper\">\n            {/* alt={`Фото ${name}`} */}\n            <img className=\"b-card__image\" src={urlImage} alt='' />\n          </div>\n\n          <div className=\"b-card__info-bar\">\n            <div className=\"b-card__address\">Открыто до {endWorkTime}</div>\n            <div className=\"b-card__address\">{address}</div>\n            <h1 className=\"b-card__name\">{name}</h1>\n          </div>\n          {!!descriptionSale &&\n            <Sale\n              description={descriptionSale}\n            />\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Card;","import React, { Component } from 'react';\n\nimport Tab from '@material/react-tab';\nimport TabBarComponent from '@material/react-tab-bar';\nimport '@material/react-tab-bar/dist/tab-bar.css';\nimport '@material/react-tab-scroller/dist/tab-scroller.css';\nimport '@material/react-tab/dist/tab.css';\nimport '@material/react-tab-indicator/dist/tab-indicator.css';\n\nimport './index.scss';\n\n\nclass TabBar extends Component {\n  state = {\n    activeIndex: 0\n  }\n\n  handleActiveIndexUpdate = (activeIndex) => {\n    this.setState({activeIndex});\n\n    if(this.props.getTabIndex) {\n      this.props.getTabIndex(activeIndex);\n    }\n  };\n\n  render() {\n    const { tabs } = this.props;\n\n    return(\n      <div className=\"b-tab-bar\">\n        <TabBarComponent\n          activeIndex={this.state.activeIndex}\n          handleActiveIndexUpdate={this.handleActiveIndexUpdate}\n        >\n          {tabs.map(item => {\n            return <Tab key={item}>\n              <span className='mdc-tab__text-label'>{item}</span>\n            </Tab>\n          })}\n        </TabBarComponent>\n      </div>\n    )\n  }\n}\n\nexport default TabBar;","import React, { Component } from 'react';\n\nimport './index.scss';\n\nclass ArrowTo extends Component {\n  render() {\n    const { onClick } = this.props;\n\n    return(\n      <div className=\"b-arrow-to\" onClick={onClick}>\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fillRule=\"evenodd\"clipRule=\"evenodd\" d=\"M8.70711 1.70711C9.09763 1.31658 9.09763 0.683417 8.70711 0.292893C8.31658 -0.0976311 7.68342 -0.0976311 7.29289 0.292893L0.292893 7.29289C-0.0976311 7.68342 -0.0976311 8.31658 0.292893 8.70711L7.29289 15.7071C7.68342 16.0976 8.31658 16.0976 8.70711 15.7071C9.09763 15.3166 9.09763 14.6834 8.70711 14.2929L3.41421 9H15C15.5523 9 16 8.55229 16 8C16 7.44772 15.5523 7 15 7H3.41421L8.70711 1.70711Z\" />\n        </svg>\n      </div>\n    )\n  }\n}\n\nexport default ArrowTo;","import React, { Component } from 'react';\nimport qrImage from 'images/qr-code.png';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nclass Code extends Component {\n  static propTypes = {\n    isAuth: PropTypes.bool\n  };\n\n  static defaultProps = {\n    isAuth: false\n  };\n\n  render() {\n    const { isAuth, code, qrCode } = this.props;\n\n    return(\n      <div className=\"b-code\">\n        <div className=\"b-code__value\">Code: {code}</div>\n        {!!qrCode\n          && <div className=\"b-code__qr-wrapper\">\n            <img src={qrImage} alt=\"qr код\" />\n          </div>\n        }\n\n        <div className=\"b-code__footer\">\n          <div className=\"b-code__note\">\n            <span>Покажи QR-code или продиктуй код бармену и получи скидку</span>\n          </div>\n\n          {!isAuth\n            && <Link to=\"/signup\" className=\"b-code__auth\">\n              <span>Зарегистрируйся,</span> чтобы не потерять!\n            </Link>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Code;","import React, { Component } from 'react';\nimport { YMaps, Map, Placemark } from 'react-yandex-maps';\n\nclass YMap extends Component {\n\n  render() {\n    const { geo } = this.props;\n\n    return(\n      <div style={{ height: \"calc(100% - 49px)\" }}>\n        <YMaps>\n          <Map\n            defaultState={{\n              center: [geo.latitude, geo.longitude],\n              zoom: 17,\n            }}\n            width=\"100%\"\n            height=\"100%\"\n          >\n            <Placemark\n              geometry={[geo.latitude, geo.longitude]}\n            />\n          </Map>\n        </YMaps>\n      </div>\n    )\n  }\n}\n\nexport default YMap;","import React, { Component } from 'react';\n\n// Note: media\nimport taxiIcon from 'images/taxi.svg';\n\n// Note: styles\nimport './style.scss';\n\nclass TaxiButton extends Component {\n  render() {\n    return(\n      <a href=\"/\" title=\"Вызвать такси\" className=\"b-taxi-button\">\n        <img className=\"b-taxi-button__icon-taxi\" src={taxiIcon} alt=\"Иконка такси\" />\n        <span className=\"b-taxi-button__text\">Вызвать такси</span>\n      </a>\n    )\n  }\n}\n\nexport default TaxiButton;","import React, { Component } from 'react';\n\n// Note: styles\nimport './style.scss';\n\nclass Badge extends Component {\n  render() {\n    return(\n      <div className=\"b-badge\">{this.props.children}</div>\n    )\n  }\n}\n\nexport default Badge;","import React, { Component } from 'react';\n\n// Note: styles\nimport './style.scss';\nclass Rating extends Component {\n\n  render() {\n    const { number } = this.props;\n    const maxRate = [...new Array(5)];\n    const rateNumber = maxRate.length - number;\n\n    return(\n      <div className=\"b-rating\">\n        {maxRate.map((item, index) => {\n          if(index < rateNumber) {\n            return <span>☆</span>\n          }\n\n          return <span className=\"checked\">☆</span>\n        })}\n      </div>\n    )\n  }\n}\n\nexport default Rating;","import React, { Component } from 'react';\n\n// Note: styles\nimport './style.scss';\n\nclass Avatar extends Component {\n\n  render() {\n    const { text, src } = this.props;\n\n    return(\n      <div className=\"b-avatar\">\n        {!!text && text}\n        {!!src && <img src={src} alt=\"\" />}\n      </div>\n    )\n  }\n}\n\nexport default Avatar;","import React, { Component } from 'react';\n\n// Note: components\nimport Badge from 'components/Badge';\nimport Rating from 'components/Rating';\nimport Avatar from 'components/Avatar';\n\n// Note: styles\nimport './style.scss';\n\nclass Review extends Component {\n  render() {\n    const { reviews, barId } = this.props;\n    const review = reviews.find(item => item.id === barId);\n    const currDate = new Date();\n    const getDateFormat = (_date) => {\n      currDate.setTime(_date*1000);\n      const _month = currDate.getMonth() < 9 ? `0${currDate.getMonth() + 1}` : currDate.getMonth() + 1;\n\n      return `${currDate.getDate()}.${_month}.${currDate.getFullYear()}`;\n    };\n\n    return !!review\n      ? <div className=\"b-review\">\n        <div className=\"b-review__head\">\n          <Badge>{review.final_grade}</Badge>\n          <div className=\"b-review__category\">\n            <span>Бар</span>\n            <span>Паб</span>\n          </div>\n        </div>\n\n        <ul className=\"b-review__list\">\n          {review.reviews.map((item, index) => {\n            return <li className=\"b-review__item\" key={index}>\n              <div className=\"b-review__review\">\n                <div className=\"b-review__review-person\">\n                  <div className=\"b-review__avatar\">\n                    {/* TODO: avatar */}\n                    <Avatar src=\"https://mhealth.ru/media/images/2019/3/13/033a4223a2a34775b354411666ff04ef.width-630.jpg\" />\n                    <div className=\"b-review__name\">{`${item.author.firstName} ${item.author.lastName}`}</div>\n                  </div>\n                </div>\n\n                <div className=\"b-review__rating\">\n                  <Rating\n                    number={Math.trunc(item.rate)}\n                  />\n                  <div className=\"b-review__rating-date\">\n                    {getDateFormat(item.date.seconds)}\n                  </div>\n                </div>\n\n                <div className=\"b-review__text\">\n                  {item.review}\n                </div>\n              </div>\n            </li>\n          })}\n        </ul>\n      </div>\n    : \"Пока никто не оставил отзыв.\"\n  }\n}\n\nexport default Review;","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Card from 'components/Card';\nimport TabBar from 'components/TabBar';\nimport ArrowTo from 'components/ArrowTo';\nimport Code from 'components/Code';\nimport YMap from 'components/YMap';\nimport TaxiButton from 'components/TaxiButton';\nimport Review from 'components/Review';\n\n// helpers\nimport isEmptyObj from 'helpers/isEmptyObj';\n\nimport './index.scss';\n\nclass ScreenBar extends Component {\n  static propTypes = {\n    endWorkTime: PropTypes.string,\n    address: PropTypes.string,\n    // geo: PropTypes.array, TODO\n    name: PropTypes.string,\n    prize: PropTypes.shape({\n      description: PropTypes.string\n    }),\n    code: PropTypes.string,\n    isAuth: PropTypes.bool\n  };\n\n  state = {\n    tabIndex: 0\n  };\n\n  handleActiveIndexUpdate = (activeIndex) => {\n    this.setState({\n      tabIndex: activeIndex\n    })\n  };\n\n  render() {\n    const {\n      isAuth,\n      endWorkTime,\n      address,\n      geo,\n      name,\n      prize,\n      code,\n      qrCode,\n      reviews,\n      urlImage,\n      backToStartScreen,\n      barId\n    } = this.props;\n    const { tabIndex } = this.state;\n\n    const contentBar = () => (\n      <Fragment>\n        <Card\n          name={name}\n          address={address}\n          endWorkTime={endWorkTime}\n          descriptionSale={prize.description}\n          urlImage={urlImage}\n        />\n        <div className=\"b-screen-bar__tab-content\">\n          {!isEmptyObj(prize)\n            ? <Code isAuth={isAuth} code={code} qrCode={qrCode} />\n            : <div style={{ marginTop: '30px' }}>Тебя уже ждут здесь, приходи!</div>\n          }\n        </div>\n      </Fragment>\n    )\n\n    const TabContent = () => {\n      switch (tabIndex) {\n        case 0:\n          return contentBar()\n\n        case 1:\n          return <div className=\"b-screen-bar__tab-content b-screen-bar__tab-content--full\">\n            <h2 className=\"b-screen-bar__tab-title\">{name}</h2>\n            <Review reviews={reviews} barId={barId} />\n          </div>\n\n        case 2:\n          return <div className=\"b-screen-bar__tab-content b-screen-bar__tab-content--full\">\n            <h2 className=\"b-screen-bar__tab-title\">{name}</h2>\n            <YMap \n              geo={geo}\n            />\n            <div className=\"b-screen-bar__taxi\">\n              <TaxiButton />\n            </div>\n          </div>\n\n        default:\n          return contentBar()\n      }\n    };\n\n    return(\n      <div className=\"b-screen-bar\">\n        <div className=\"b-screen-bar__nav\">\n          <div className=\"b-screen-bar__nav-arrow\">\n            <ArrowTo onClick={backToStartScreen} />\n          </div>\n          <div className=\"b-screen-bar__nav-tab-bar\">\n            <TabBar\n              getTabIndex={this.handleActiveIndexUpdate}\n              tabs={[\n                'Код',\n                'Отзывы',\n                'Карта'\n              ]}\n            />\n          </div>\n          <div className=\"b-screen-bar__nav-share\">\n            <div className=\"b-screen-bar__share-icon\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M18 3C16.8954 3 16 3.89543 16 5C16 6.10457 16.8954 7 18 7C19.1046 7 20 6.10457 20 5C20 3.89543 19.1046 3 18 3ZM14 5C14 2.79086 15.7909 1 18 1C20.2091 1 22 2.79086 22 5C22 7.20914 20.2091 9 18 9C15.7909 9 14 7.20914 14 5Z\" fill=\"white\"/>\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M6 10C4.89543 10 4 10.8954 4 12C4 13.1046 4.89543 14 6 14C7.10457 14 8 13.1046 8 12C8 10.8954 7.10457 10 6 10ZM2 12C2 9.79086 3.79086 8 6 8C8.20914 8 10 9.79086 10 12C10 14.2091 8.20914 16 6 16C3.79086 16 2 14.2091 2 12Z\" fill=\"white\"/>\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M18 17C16.8954 17 16 17.8954 16 19C16 20.1046 16.8954 21 18 21C19.1046 21 20 20.1046 20 19C20 17.8954 19.1046 17 18 17ZM14 19C14 16.7909 15.7909 15 18 15C20.2091 15 22 16.7909 22 19C22 21.2091 20.2091 23 18 23C15.7909 23 14 21.2091 14 19Z\" fill=\"white\"/>\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M7.72599 13.0065C8.00406 12.5293 8.6163 12.3679 9.09348 12.646L15.9235 16.626C16.4007 16.9041 16.5621 17.5163 16.284 17.9935C16.0059 18.4707 15.3937 18.6321 14.9165 18.354L8.08652 14.374C7.60934 14.0959 7.44793 13.4837 7.72599 13.0065Z\" fill=\"white\"/>\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16.2737 6.00597C16.5521 6.48297 16.391 7.09532 15.914 7.37369L9.09403 11.3537C8.61703 11.6321 8.00468 11.471 7.72631 10.994C7.44795 10.517 7.60897 9.90468 8.08597 9.62631L14.906 5.64631C15.383 5.36795 15.9953 5.52897 16.2737 6.00597Z\" fill=\"white\"/>\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        <TabContent />\n      </div>\n    )\n  }\n}\n\nexport default ScreenBar;","const randomInteger = (max, min = 0) => {\n  // случайное число от min до (max+1)\n  let rand = min + Math.random() * (max + 1 - min);\n  return Math.floor(rand);\n}\n\nexport default randomInteger;","const getRandomObjectKey = (obj) => {\n  if(!obj) {\n    return obj\n  };\n\n  const keys = Object.keys(obj);\n\n  if(obj[keys[ keys.length * Math.random() << 0]]) {\n    return [keys[ keys.length * Math.random() << 0]][0];\n  }\n\n  getRandomObjectKey(obj);\n};\n\nexport default getRandomObjectKey;","import randomInteger from 'helpers/randomInteger';\nimport getRandomObjectKey from 'helpers/getRandomObjectKey';\nimport plugForPicture from 'images/plug-for-bar.jpg';\n\n// Note: variables\nconst GET_URL_BAR_IMAGE_SUCCESS = 'GET_URL_BAR_IMAGE_SUCCESS',\n      GET_URL_BAR_IMAGE_ERROR = 'GET_URL_BAR_IMAGE_ERROR';\n\nconst SAVE_BAR_ID_QUERY = 'SAVE_BAR_ID_QUERY';\nconst SAVE_TYPE_PRIZE = 'SAVE_TYPE_PRIZE';\n\n// Note: actions\nexport const getBar = (barId) => {\n  return (dispatch, getState, { getFirestore, getFirebase }) => {\n    const firestore = getFirestore();\n    dispatch({\n      type: SAVE_BAR_ID_QUERY,\n      payload: {\n        targetBarId: barId\n      }\n    });\n\n    firestore.get({ collection: 'bars', doc: barId })\n      .then(() => {\n        const getImageForThisBar = (imagePath) => {\n          const storageRef = getFirebase().storage().ref();\n          const barImageRef = storageRef.child(imagePath);\n\n          barImageRef.getDownloadURL()\n            .then((url) => {\n              dispatch({\n                type: GET_URL_BAR_IMAGE_SUCCESS,\n                payload: url\n              })\n            }, err => {\n              dispatch({\n                type: GET_URL_BAR_IMAGE_ERROR,\n                payload: plugForPicture\n              })\n            })\n        };\n        const targetBar = getState().firestore.ordered.bars.filter(tarItem => {\n          return tarItem.id === barId\n        });\n        console.log(targetBar)\n\n        if(!!targetBar.length && targetBar[0].available_prizes) {\n          const availablePrizes = targetBar[0].available_prizes,\n              prizeId = getRandomObjectKey(availablePrizes),\n              typePrize = prizeId.split('_');\n              dispatch({\n                type: SAVE_TYPE_PRIZE,\n                payload: {\n                  typePrize\n                }\n              });\n\n          if(typePrize[0] === 'common') {\n            firestore.get({ collection: 'common_prizes', doc: prizeId }).then(() => {\n              getImageForThisBar(targetBar[0].photo)\n            });\n          } else {\n            firestore.get({ collection: 'unique_prizes', doc: typePrize[1] }).then(() => {\n              getImageForThisBar(targetBar[0].photo)\n            });\n          }\n        } else if(!!targetBar.length && !targetBar[0].available_prizes) {\n          getImageForThisBar(targetBar[0].photo);\n          dispatch({\n            type: SAVE_TYPE_PRIZE,\n            payload: {\n              typePrize: ''\n            }\n          });\n        }\n      })\n  }\n}\n\nexport const getRandomBar = (nameCity) => { // TODO: nameCity\n  console.log(nameCity)\n  return (dispatch, getState, { getFirestore }) => {\n    const firestore = getFirestore();\n\n    firestore.get({ collection: 'bars_id', doc: nameCity })\n      .then(() => {\n        const targetBarsId = getState().firestore.ordered.bars_id.filter((item) => (\n          item.id === nameCity\n        ));\n        const barsId = targetBarsId[0].content,\n              numberBarInCollection = randomInteger(barsId.length - 1),\n              barId = barsId[numberBarInCollection].bar_id;\n        console.log(barId)\n\n        dispatch(getBar(barId));\n      })\n  }\n}\n\n// Note: reducer\nconst initialState = {\n  barImageUrl: null,\n  targetBarId: null,\n  typePrize: ''\n};\n\nconst bars = (state = initialState, action) => {\n  switch (action.type) {\n\n    case GET_URL_BAR_IMAGE_SUCCESS:\n      return {\n        ...state,\n        barImageUrl: action.payload\n      }\n\n    case GET_URL_BAR_IMAGE_ERROR:\n      return {\n        ...state,\n        barImageUrl: action.payload\n      }\n\n    case SAVE_BAR_ID_QUERY:\n        return {\n          ...state,\n          targetBarId: action.payload.targetBarId\n        }\n\n    case SAVE_TYPE_PRIZE:\n        return {\n          ...state,\n          typePrize: action.payload.typePrize\n        }\n\n    default:\n      return state\n  }\n};\n\nexport default bars;","// Note:\n// Логический компонент, который после броска монетки\n// подбирает бар для пользователя.\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport Pt from 'prop-types';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\n\n// Note: actions\nimport { getRandomBar } from 'store/bars';\nimport { savePromocode, saveWinningPromocodeInStore } from 'store/promocodes';\nimport { changeCity } from 'store/users';\n\n// Note: helpers\nimport isEmptyObj from 'helpers/isEmptyObj';\nimport randomInteger from 'helpers/randomInteger';\nimport defineCity from 'helpers/defineCity';\n\n// Note: Components\nimport ScreenBar from './ScreenBar';\n\nclass ScreenBarCreate extends Component {\n  static propTypes = {\n    showBar: Pt.bool\n  }\n\n  state = {\n    code: randomInteger(9999, 1000)\n  }\n\n  componentDidMount() {\n    navigator.geolocation.getCurrentPosition(pos => {\n      defineCity(pos.coords.latitude, pos.coords.longitude)\n        .then(res => {\n          this.props.getRandomBar(res.name_id);\n          this.props.changeCity(res.name, res.name_id);\n        });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      showBar,\n      savePromocode,\n      auth,\n      bar,\n      prize,\n      saveWinningPromocodeInStore\n    } = this.props;\n\n    if(prevProps.dataCity.valueCity !== this.props.dataCity.valueCity) {\n      this.props.getRandomBar(this.props.dataCity.valueCity);\n    }\n\n    if(showBar !== prevProps.showBar && showBar) {\n      if(prize && prize.length > 0) {\n        // Note: Промокод сохраняем только в том случае если он вообще есть.\n        // т.е. если есть приз или какая-то скидка в этом баре.\n        const promocodeData = {\n          bar_id: bar.id,\n          code: this.state.code,\n          is_check: false,\n          name_bar: bar.name,\n          photo: bar.photo,\n          prize: prize.length > 0 ? prize[0] : {},\n          qr_code: null // TODO\n        };\n\n        if(!!auth.uid) {\n          // Note: Если авторизован юзер то промокод сохраняем сразу в базе.\n          savePromocode(auth.uid, promocodeData);\n        } else {\n          // Note: Если не авторизован юзер то отправляем промокод в store\n          // до момента пока юзер не авторизуется, чтобы сохранить промокод\n          // в базу прикрепив его к юзеру.\n          saveWinningPromocodeInStore(promocodeData);\n        }\n      }\n    }\n\n  }\n\n  render() {\n    const { bar, auth, showBar, prize, barImageUrl, backToStartScreen, reviews } = this.props;\n    const { code } = this.state;\n\n      if(typeof(bar) === 'object' && isEmptyObj(bar) && !!prize) {\n        return <div>'Загрузка...'</div>\n      }\n\n      if(!bar && Array.isArray(bar) && bar.length <= 0) {\n        return <div>'Загрузка...'</div>\n      }\n\n      if(!bar) {\n        return <div>'Загрузка...'</div>\n      }\n\n      return <CSSTransition\n        unmountOnExit\n        in={showBar}\n        timeout={2300}\n        classNames='b-screen'\n      >\n        <ScreenBar\n          isAuth={!!auth.uid}\n          code={code} // TODO: узнать как работать с промокодом. Он будет генериться один на приз или один на пользователя?\n          qrCode={null} // TODO\n          endWorkTime={bar.end_work_time}\n          address={bar.address}\n          geo={bar.geo} // TODO\n          name={bar.name}\n          prize={prize && Array.isArray(prize) && !!prize.length ? prize[0] : {}}\n          urlImage={barImageUrl}\n          backToStartScreen={backToStartScreen}\n          reviews={reviews}\n          barId={bar.id}\n        />\n      </CSSTransition>\n  }\n}\n\nconst mapStateToProps = ({ firebase, firestore, bars, users }) => {\n  const targetBarId = firestore.ordered.bars && firestore.ordered.bars.length > 0\n    ? firestore.ordered.bars.filter(item => {\n      return item.id === bars.targetBarId\n    })\n    : {};\n\n  console.log(bars)\n\n  return {\n    auth: firebase.auth,\n    bar: Array.isArray(targetBarId) ? targetBarId[0] : targetBarId,\n    prize: firestore.ordered.unique_prizes ? firestore.ordered.unique_prizes.filter(item => (\n      item.id === bars.typePrize[1]\n    )) : null,\n    barImageUrl: bars.barImageUrl,\n    reviews: firestore.ordered.reviews ? firestore.ordered.reviews : [],\n    dataCity: {\n      valueCity: users.valueCity,\n      nameCity: users.nameCity\n    }\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getRandomBar: (nameCity) => dispatch(getRandomBar(nameCity)),\n    savePromocode: (userUID, promocodeData) => dispatch(savePromocode(userUID, promocodeData)),\n    saveWinningPromocodeInStore: (data) => dispatch(saveWinningPromocodeInStore(data)),\n    changeCity: (name, nameId) => dispatch(changeCity(name, nameId))\n  }\n}\n\nexport default compose(\n  firestoreConnect(props => {\n    const query = [];\n    if(props.bar && props.bar.id) {\n      query.push({ collection: 'reviews', doc: props.bar.id });\n    };\n    return query\n  }),\n  connect(mapStateToProps, mapDispatchToProps)\n)(ScreenBarCreate);\n","// Note:\n// Логический компонент, который рендерит бар\n// по нажатию на промокоды пользователя.\n\nimport React, { Component } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { withRouter } from \"react-router\";\n\n// Note: helpers\nimport isEmptyObj from 'helpers/isEmptyObj';\n\n// Note: Components\nimport ScreenBar from './ScreenBar';\n\nclass ScreenBarGet extends Component {\n  render() {\n    const { auth, location, bars, history, reviews } = this.props;\n    const barInfo = !!bars ? bars[location.state.barId] ? bars[location.state.barId] : {} : {};\n\n    return <ScreenBar\n      isAuth={!!auth.uid}\n      code={location.state.code}\n      qrCode={location.state.qrCode}\n      endWorkTime={isEmptyObj(barInfo) ? '' : barInfo.end_work_time}\n      address={isEmptyObj(barInfo) ? '' :barInfo.address}\n      geo={isEmptyObj(barInfo) ? null : barInfo.geo}\n      name={isEmptyObj(barInfo) ? '' : barInfo.name}\n      prize={location.state.prize}\n      urlImage={location.state.imageUrl}\n      backToStartScreen={() => history.goBack()}\n      reviews={reviews}\n      barId={location.state.barId}\n    />\n  }\n}\n\n\nconst mapStateToProps = ({ firebase, firestore }) => {\n  return {\n    auth: firebase.auth,\n    bars: firestore.data.bars,\n    reviews: firestore.ordered.reviews ? firestore.ordered.reviews : []\n  }\n};\n\nexport default compose(\n  firestoreConnect(props => {\n    const barId = props.location.state.barId;\n    return [\n      { collection: 'bars', doc: barId },\n      { collection: 'reviews', doc: barId }\n    ]\n  }),\n  connect(mapStateToProps)\n)(withRouter(ScreenBarGet));\n","import { withNaming } from \"@bem-react/classname\";\nconst bem = withNaming({ n: \"\", e: \"__\", m: \"--\", v: \"_\" });\nexport default bem;\n","import React, { Component } from \"react\";\nimport bem from \"config/bem\";\nimport { Link } from 'react-router-dom';\n\nconst bemClass = bem(\"sign\");\n\nclass AuthFormUi extends Component {\n  render() {\n    const { children, link, title } = this.props;\n\n    return(\n      <main className={bemClass()}>\n        <svg\n            className={bemClass(\"bg\", { top: true })}\n            width=\"353\"\n            height=\"202\"\n            viewBox=\"0 0 353 202\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n          <g clipPath=\"url(#clip0)\">\n            <path\n              d=\"M5.58143 186.402C-16.7847 207.411 -42.623 207.145 -52.7464 204.386L-155.265 132.124L8.44741 -126.602L371.796 -86.1431C389.379 -90.0134 418.431 -86.5454 393.968 -41.7113C363.389 14.3314 212.039 12.1655 119.967 39.6799C27.8952 67.1944 33.5391 160.141 5.58143 186.402Z\"\n              fill=\"url(#paint0_linear)\"\n              stroke=\"#21372A\"\n              strokeWidth=\"10\"\n            />\n          </g>\n          <defs>\n            <linearGradient\n              id=\"paint0_linear\"\n              x1=\"-108.245\"\n              y1=\"-131.207\"\n              x2=\"373.566\"\n              y2=\"209.205\"\n              gradientUnits=\"userSpaceOnUse\"\n            >\n              <stop stopColor=\"#09C883\" />\n              <stop offset=\"1\" stopColor=\"#086A29\" />\n            </linearGradient>\n            <clipPath id=\"clip0\">\n              <rect width=\"353\" height=\"202\" fill=\"white\" />\n            </clipPath>\n          </defs>\n        </svg>\n        <Link to={link.to} className={bemClass(\"switchPageBtn\")}>\n          {link.text}\n        </Link>\n        <h1 className={bemClass(\"heading\")}>{title}</h1>\n\n        {children}\n\n        <Link\n        className={bemClass('backLink')}\n        to=\"/\">Назад</Link>\n\n        <svg\n          className={bemClass(\"bg\", { bottom: true })}\n          width=\"280\"\n          height=\"173\"\n          viewBox=\"0 0 280 173\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <g clipPath=\"url(#clip0)\">\n            <path\n              d=\"M118.5 141.5C0.5 158 4.5 173.5 -10 225V254H301.5V7C289.833 8.83333 263.9 17.8 253.5 39C240.5 65.5 236.5 125 118.5 141.5Z\"\n              fill=\"url(#paint0_linear)\"\n              stroke=\"#21372A\"\n              strokeWidth=\"10\"\n            />\n          </g>\n          <defs>\n            <linearGradient\n              id=\"paint0_linear\"\n              x1=\"0.279499\"\n              y1=\"14.9589\"\n              x2=\"329.654\"\n              y2=\"160.601\"\n              gradientUnits=\"userSpaceOnUse\"\n            >\n              <stop stopColor=\"#09C883\" />\n              <stop offset=\"1\" stopColor=\"#086A29\" />\n            </linearGradient>\n            <clipPath id=\"clip0\">\n              <rect width=\"280\" height=\"173\" fill=\"white\" />\n            </clipPath>\n          </defs>\n        </svg>\n      </main>\n    )\n  }\n}\n\nexport default AuthFormUi;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { signUp } from 'store/auth';\nimport bem from \"config/bem\";\n\n// Note: components\nimport AuthFormUi from 'components/AuthFormUi';\n\n// Note: styles\nimport './style.scss';\n\nconst bemClass = bem(\"sign\");\n\nclass SignUp extends Component {\n  state = {\n    email: '',\n    password: '',\n    firstName: '',\n    lastName: ''\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value\n    })\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.signUp(this.state);\n  };\n\n  render() {\n    const { auth, authError } = this.props;\n    // TODO: включить когда настрою роутинг\n    // if (auth.uid) return <Redirect to=\"/\" />\n\n    return(\n      <AuthFormUi\n        link={{\n          to: \"/signin\",\n          text: \"Вход\"\n        }}\n        title=\"Регистрация\"\n      >\n        <form onSubmit={this.handleSubmit} className={bemClass(\"form\")}>\n          <div className={bemClass(\"inputGroup\")}>\n            <input\n              className={bemClass(\"input\")}\n              placeholder=\"Почта\"\n              type=\"email\"\n              id=\"email\"\n              onChange={this.handleChange}\n            />\n            <input\n              className={bemClass(\"input\")}\n              placeholder=\"Пароль\"\n              type=\"password\" id=\"password\"\n              onChange={this.handleChange}\n            />\n            <input\n              className={bemClass(\"input\")}\n              placeholder=\"Имя\"\n              type=\"text\"\n              id=\"firstName\"\n              onChange={this.handleChange}\n            />\n            <input\n              className={bemClass(\"input\")}\n              placeholder=\"Фамилия\"\n              type=\"text\"\n              id=\"lastName\"\n              onChange={this.handleChange}\n            />\n          </div>\n          <button type=\"submit\" className={bemClass(\"goBtn\")}>\n            <svg\n              width=\"44\"\n              height=\"44\"\n              viewBox=\"0 0 44 44\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M22 0C9.84995 0 0 9.84995 0 22C0 34.15 9.84995 44 22 44C34.15 44 44 34.15 44 22C44 9.84995 34.15 0 22 0ZM19.5563 10.8953L36.2145 22L19.5563 33.1047V27.1215H7.78554V16.8791H19.5563V10.8953Z\"\n                fill=\"black\"\n              />\n            </svg>\n          </button>\n        </form>\n      </AuthFormUi>\n    )\n  }\n}\n\nconst mapStateToProps = ({ firebase }) => {\n  return {\n    auth: firebase.auth\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    signUp: (newUser) => dispatch(signUp(newUser))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import React, { Component, Fragment } from \"react\";\nimport { connect } from \"react-redux\";\nimport { signIn } from \"store/auth\";\nimport bem from \"config/bem\";\n\n\n// Note: components\nimport AuthFormUi from 'components/AuthFormUi';\n\n// Note: styles\nimport \"./style.scss\";\n\nconst bemClass = bem(\"sign\");\n\nclass SignIn extends Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.signIn(this.state);\n  };\n\n  render() {\n    console.log(this.props.authError);\n    return (\n      <AuthFormUi\n        link={{\n          to: \"/signup\",\n          text: \"Регистрация\"\n        }}\n        title=\"Вход\"\n      >\n        <Fragment>\n          <form onSubmit={this.handleSubmit} className={bemClass(\"form\")}>\n            <div className={bemClass(\"inputGroup\")}>\n              <input\n                className={bemClass(\"input\")}\n                type=\"email\"\n                id=\"email\"\n                placeholder=\"Почта\"\n                onChange={this.handleChange}\n              />\n              <input\n                className={bemClass(\"input\")}\n                type=\"password\"\n                id=\"password\"\n                placeholder=\"Пароль\"\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <button type=\"submit\" className={bemClass(\"goBtn\")}>\n              <svg\n                width=\"44\"\n                height=\"44\"\n                viewBox=\"0 0 44 44\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M22 0C9.84995 0 0 9.84995 0 22C0 34.15 9.84995 44 22 44C34.15 44 44 34.15 44 22C44 9.84995 34.15 0 22 0ZM19.5563 10.8953L36.2145 22L19.5563 33.1047V27.1215H7.78554V16.8791H19.5563V10.8953Z\"\n                  fill=\"black\"\n                />\n              </svg>\n            </button>\n          </form>\n\n          {/* <span>Забыли пароль?</span> */}\n        </Fragment>\n      </AuthFormUi>\n    );\n  }\n}\n\nconst mapStateToProps = ({ auth }) => {\n  return {\n    authError: auth.authError\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signIn: creds => dispatch(signIn(creds))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\n","import React, { Component } from \"react\";\nimport phoneImg from \"images/phones.png\";\nimport logo from \"images/logo.png\";\nimport logoNew from \"images/LogoNew.svg\";\n\n// Note: styles\nimport \"./style.scss\";\n\nclass DesktopScreen extends Component {\n  render() {\n    return (\n      <>\n        <div className=\"desktop-screen\">\n          {/* <header className=\"desktop-screen__header\">\n            <div className=\"container\">\n              <img className=\"desktop-screen__logo\" src={logo} alt=\"beer-coin\"/>\n              <nav className=\"desktop-screen__nav\">\n                <a className=\"desktop-screen__nav-link\" href=\"http://\">\n                  Мои коды\n                </a>\n                <a className=\"desktop-screen__nav-link\" href=\"http://\">\n                  Приложение\n                </a>\n                <a className=\"desktop-screen__nav-link\" href=\"http://\">\n                  Рейтинг - coming soon\n                </a>\n              </nav>\n              <input\n                className=\"desktop-screen__search\"\n                type=\"text\"\n                name=\"text\"\n                id=\"\"\n                disabled\n                placeholder=\"Coming soon\"\n              />\n            </div>\n          </header> */}\n\n          <div className=\"desktop-screen__center\">\n            <img className=\"desktop-screen__logo-main\" src={logoNew} alt=\"BeerCoin\"/>\n            <div className=\"desktop-screen__left\">\n              <img className=\"desktop-screen__img\" src={phoneImg} alt=\"\" />\n            </div>\n            <div className=\"desktop-screen__right\">\n              <h1 className=\"desktop-screen__h1\">\n                Подкинь монетку и пей бесплатно!\n              </h1>\n              <h2 className=\"desktop-screen__h2\">\n                Закрути свою удачу и получи скидку в случайном баре.\n                {/* \"Beer coin - for your awesome night\" */}\n              </h2>\n              {/* <button className=\"desktop-screen__btn\" type=\"button\">\n                Открыть на телефоне\n              </button> */}\n              <h3 className=\"desktop-screen__go-to\">Открой на телефоне</h3>\n            </div>\n          </div>\n        </div>\n        {/* <footer className=\"desktop-screen__footer\">\n          <div className=\"desktop-screen__cookies\">\n            We use cookies - by using this site you agree to ourApple Privacy\n            Policy\n          </div>\n          <div>© Copyright 2019 Beer Coin</div>\n        </footer> */}\n      </>\n    );\n  }\n}\n\nexport default DesktopScreen;\n","// Firebase App (the core Firebase SDK) is always required and must be listed first\nimport * as firebase from \"firebase/app\";\n\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\nimport \"firebase/analytics\";\n\n// Add the Firebase products that you want to use\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = () => {\n  if(process.env.NODE_ENV === 'development') {\n    return {\n      apiKey: \"AIzaSyD9BVzo39gac6wAO4df7cwVxLONypUaArA\",\n      authDomain: \"coin-deside.firebaseapp.com\",\n      databaseURL: \"https://coin-deside.firebaseio.com\",\n      projectId: \"coin-deside\",\n      storageBucket: \"gs://coin-deside.appspot.com\",\n      messagingSenderId: \"969560591836\",\n      appId: \"1:969560591836:web:d7f6536285ceca72bcd319\",\n      measurementId: \"G-YZF710RMCN\"\n    }\n  } else if(process.env.NODE_ENV === 'production') {\n    return {\n      apiKey: \"AIzaSyDaLdkt15q132Hb88jIVYYPOrfnUaBJHv8\",\n      authDomain: \"beercoin12.firebaseapp.com\",\n      databaseURL: \"https://beercoin12.firebaseio.com\",\n      projectId: \"beercoin12\",\n      storageBucket: \"beercoin12.appspot.com\",\n      messagingSenderId: \"127473982008\",\n      appId: \"1:127473982008:web:4b5d01f7d85f7f477c24cd\",\n      measurementId: \"G-RM52L3SW37\"\n    }\n  }\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig());\nfirebase.firestore().settings({ timestampsInSnapshots: true });\n\nexport default firebase;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addBarAdmin, addBarIdAdmin } from 'store/admin';\nimport firebase from 'config/firebaseConfig';\n\nclass Admin extends Component {\n\n  state = {\n    addBar_id: \"\",\n    addBar_address: \"\",\n    addBar_end_work_time: \"\",\n    addBar_latitude: \"\",\n    addBar_longtitude: \"\",\n    addBar_name: \"\",\n    addBar_photo: \"\",\n    addBar_city: \"\",\n    addBar_id_city: \"\"\n  };\n\n  addBar = (event) => {\n    event.preventDefault();\n    this.props.addBarAdmin('bars', this.state.addBar_id, {\n      address: this.state.addBar_address,\n      end_work_time: this.state.addBar_end_work_time,\n      geo: new firebase.firestore.GeoPoint(+this.state.addBar_latitude, +this.state.addBar_longtitude),\n      name: this.state.addBar_name,\n      photo: this.state.addBar_photo\n    });\n\n    this.props.addBarIdAdmin('bars_id', this.state.addBar_id_city, {\n      bar_id: this.state.addBar_id,\n      geo: new firebase.firestore.GeoPoint(+this.state.addBar_latitude, +this.state.addBar_longtitude)\n    });\n  };\n\n  handleInputChange = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  render() {\n\n    return(\n      <div>\n        <section>\n          <h1>Добавить новый бар</h1>\n          <a href=\"http://joxi.ru/Q2KYQqWCLRxe9r\" target=\"_blank\">Пример API</a>\n\n          <form onSubmit={this.addBar}>\n            <div>\n              <label>Id бара</label>\n              <input name=\"addBar_id\" value={this.state.addBar_id} onChange={this.handleInputChange}/>\n            </div>\n\n            <div>\n              <label>Название города</label>\n              <input name=\"addBar_city\" value={this.state.addBar_city} onChange={this.handleInputChange}/>\n            </div>\n\n            <div>\n              <label>Id города (как в option при выборе)</label>\n              <input name=\"addBar_id_city\" value={this.state.addBar_id_city} onChange={this.handleInputChange}/>\n            </div>\n\n            <div>\n              <label>Адрес</label>\n              <input name=\"addBar_address\" value={this.state.addBar_address} onChange={this.handleInputChange}/>\n            </div>\n\n            <div>\n              <label>Время закрытия</label>\n              <input name=\"addBar_end_work_time\" value={this.state.addBar_end_work_time} onChange={this.handleInputChange}/>\n            </div>\n\n            <div>\n              <label>Geo</label>\n              <input name=\"addBar_latitude\" placeholder=\"Широта\" value={this.state.addBar_latitude} onChange={this.handleInputChange}/>\n              <input name=\"addBar_longtitude\" placeholder=\"Долгота\" value={this.state.addBar_longtitude} onChange={this.handleInputChange}/>\n            </div>\n\n            <div>\n              <label>Название</label>\n              <input name=\"addBar_name\" value={this.state.addBar_name} onChange={this.handleInputChange}/>\n            </div>\n\n            <div>\n              <label>Фото</label>\n              <input name=\"addBar_photo\" value={this.state.addBar_photo} onChange={this.handleInputChange}/>\n            </div>\n\n            <button type=\"submit\">Отправить</button>\n          </form>\n        </section>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addBarAdmin: (collection, doc, data) => dispatch(addBarAdmin(collection, doc, data)),\n    addBarIdAdmin: (collection, doc, data) => dispatch(addBarIdAdmin(collection, doc, data))\n  }\n};\n\nexport default connect(null, mapDispatchToProps)(Admin);","export const addBarAdmin = (collection, doc, data) => {\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\n    const firestore = getFirestore();\n    firestore.collection(collection).doc(doc).set(data);\n  }\n};\n\nexport const addBarIdAdmin = (collection, doc, data) => {\n  return (dispatch, getState, { getFirebase, getFirestore }) => {\n    const firestore = getFirestore();\n\n    firestore.get({ collection: collection, doc: doc }).then(() => {\n      let stateBarsId = getState().firestore.ordered.bars_id.filter(item => item.id === doc);\n      let dataQuery = [\n        ...stateBarsId[0].content,\n        {...data}\n      ];\n\n      firestore.collection(collection).doc(doc).set({\n        content: dataQuery\n      });\n    });\n  };\n};","import React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { isMobile } from 'react-device-detect';\nimport { Router, Switch, Route } from 'react-router-dom';\nimport { history } from 'helpers/history';\nimport defineCity from 'helpers/defineCity';\n\n// import Shake from 'helpers/shake'; TODO: shake событие\n// import launchFlipCoin from 'helpers/launchFlipCoin';\n\n// Note: actions\nimport { changeCity } from 'store/users';\n\nimport ScreenCoin from 'components/ScreenCoin';\nimport { ScreenBarGet, ScreenBarCreate } from 'components/ScreenBar';\nimport SignUp from 'components/SignUp';\nimport SignIn from 'components/SignIn';\nimport DesktopScreen from 'components/DesktopScreen';\nimport Admin from 'components/Admin';\n\nimport './App.scss';\n\nclass App extends Component {\n\n  state = {\n    isStopFlipping: false,\n    showBar: false\n  };\n\n  stopFlipping = () => {\n    this.setState({\n      isStopFlipping: true\n    })\n  };\n\n  backToStartScreen = () => {\n\n    this.setState({\n      isStopFlipping: false,\n      showBar: false\n    })\n  };\n\n  // TODO: shake событие\n  // stopFlipping = () => {\n  //   setTimeout(() => {\n  //     this.setState({\n  //       isStopFlipping: true\n  //     });\n\n  //     const canvasElem = document.getElementById('canvas');\n  //     canvasElem.classList='hide';\n\n  //     setTimeout(() => {\n  //       canvasElem.style.display=\"none\";\n  //     }, 500);\n  //   }, 300);\n  // };\n\n  componentDidMount() {\n    navigator.geolocation.getCurrentPosition(pos => {\n      defineCity(pos.coords.latitude, pos.coords.longitude)\n        .then(res => {\n          this.props.changeCity(res.name, res.name_id);\n        });\n    });\n    // TODO: shake событие\n    // //create a new instance of shake.js.\n    // const myShakeEvent = new Shake({\n    //   threshold: 10\n    // });\n    // // start listening to device motion\n    // myShakeEvent.start();\n\n    // //shake event callback\n    // const shakeEventDidOccur = () => launchFlipCoin(10, -15, this.stopFlipping);\n\n    // // register a shake event\n    // window.addEventListener('shake', shakeEventDidOccur, false);\n  }\n\n  componentDidUpdate(prevProps) {\n    if(!this.props.auth.isEmpty && !!this.props.userData.length && !prevProps.userData) {\n      this.props.changeCity(this.props.userData[0].default_city.name, this.props.userData[0].default_city.name_id)\n    }\n  }\n\n  render() {\n    const { auth } = this.props;\n    const { isStopFlipping, showBar } = this.state;\n    console.log(auth)\n\n    // TODO: shake событие\n    // launchFlipCoin(0, 0);\n\n    return (\n      <Router history={history}>\n        <div className=\"App\">\n          {isMobile\n            ? <Switch>\n              <Route exact path=\"/\">\n                <Fragment>\n                  {/* Первый экран: Монетка */}\n                  <CSSTransition\n                    unmountOnExit\n                    in={!isStopFlipping}\n                    timeout={500}\n                    classNames='b-screen'\n                    onExited={() => this.setState({ showBar: true })}\n                  >\n                    <Fragment>\n                      <ScreenCoin\n                        stopFlipping={this.stopFlipping}\n                      />\n                    </Fragment>\n                  </CSSTransition>\n\n                  {/* Второй экран: Бар, скидка, промокод. */}\n                  <ScreenBarCreate showBar={showBar} backToStartScreen={this.backToStartScreen} />\n                </Fragment>\n              </Route>\n              <Route path=\"/signup\" component={SignUp} />\n              <Route path=\"/signin\" component={SignIn} />\n              <Route path=\"/promocode/:id\" component={ScreenBarGet} />\n\n              {process.env.NODE_ENV === 'development' ||\n              (auth.uid === \"RVf4AoGwwxVq0X0YnQeTlpykzpE2\")\n                ? <Route path=\"/admin\" component={Admin} />\n                : null\n              }\n            </Switch>\n\n            : <DesktopScreen />\n          }\n        </div>\n      </Router>\n    )\n\n  }\n}\n\nconst mapStateToProps = ({ firebase, firestore }) => {\n  return {\n    auth: firebase.auth,\n    userData: !!firestore.ordered.users \n                && !!firestore.ordered.users.length \n                && firestore.ordered.users.filter(item => firebase.auth.uid === item.id)\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changeCity: (name, nameId) => dispatch(changeCity(name, nameId))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport rootReducer from 'store/rootReducer';\n\nconst store = rootReducer();\n\nstore.firebaseAuthIsReady.then(() => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root'));\n\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: https://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n});\n","// ref for create firebase: https://www.youtube.com/playlist?list=PL4cUxeGkcC9iWstfXntcj8f-dFZ4UtlN3\n\nimport {\n  combineReducers,\n  createStore,\n  applyMiddleware,\n  compose\n} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { reduxFirestore, getFirestore, firestoreReducer } from 'redux-firestore';\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase';\nimport firebaseConfig from 'config/firebaseConfig';\nimport { firebaseReducer } from 'react-redux-firebase';\n\n// Note: reducers\nimport promocodes from './promocodes';\nimport auth from './auth';\nimport bars from './bars';\nimport users from './users';\n\nexport default function(initialState = {}) {\n  const rootReducer = combineReducers({\n    promocodes,\n    auth,\n    bars,\n    users,\n    firestore: firestoreReducer,\n    firebase: firebaseReducer\n  });\n\n  return createStore(\n    rootReducer,\n    initialState,\n    compose(\n      applyMiddleware(thunkMiddleware.withExtraArgument({ getFirebase, getFirestore})),\n      reactReduxFirebase(firebaseConfig, { attachAuthIsReady: true }),\n      reduxFirestore(firebaseConfig)\n    )\n  );\n}"],"sourceRoot":""}